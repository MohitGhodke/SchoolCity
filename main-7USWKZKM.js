import{a as M,b as Z,c as Qc}from"./chunk-IMPBB4AK.js";var Ri;function vr(){return Ri}function ke(t){let e=Ri;return Ri=t,e}var Xc=Symbol("NotFound");function Ht(t){return t===Xc||t?.name==="\u0275NotFound"}var Oi=null;var Jc=1;var ht=Symbol("SIGNAL");function w(t){let e=Oi;return Oi=t,e}function Pi(){return Oi}var Cn={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ki(t){if(!(Cr(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Jc)){if(!t.producerMustRecompute(t)&&!br(t)){Er(t);return}t.producerRecomputeValue(t),Er(t)}}function Er(t){t.dirty=!1,t.lastCleanEpoch=Jc}function wn(t){return t&&(t.producersTail=void 0,t.recomputing=!0),w(t)}function Dr(t,e){if(w(e),!t)return;t.recomputing=!1;let n=t.producersTail,r=n!==void 0?n.nextProducer:t.producers;if(r!==void 0){if(Cr(t))do r=Fi(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function br(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(ki(n),r!==n.version))return!0}return!1}function Ir(t){if(Cr(t)){let e=t.producers;for(;e!==void 0;)e=Fi(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Fi(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,o=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:e.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(e.consumers=r,!Cr(e)){let i=e.producers;for(;i!==void 0;)i=Fi(i)}return n}function Cr(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function gh(){throw new Error}var mh=gh;function Li(t){mh=t}function x(t){return typeof t=="function"}function wr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Sr=wr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Sn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Q=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(x(r))try{r()}catch(i){e=i instanceof Sr?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{el(i)}catch(s){e=e??[],s instanceof Sr?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Sr(e)}}add(e){var n;if(e&&e!==this)if(this.closed)el(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Sn(n,e)}remove(e){let{_finalizers:n}=this;n&&Sn(n,e),e instanceof t&&e._removeParent(this)}};Q.EMPTY=(()=>{let t=new Q;return t.closed=!0,t})();var ji=Q.EMPTY;function Tr(t){return t instanceof Q||t&&"closed"in t&&x(t.remove)&&x(t.add)&&x(t.unsubscribe)}function el(t){x(t)?t():t.unsubscribe()}var Se={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $t={setTimeout(t,e,...n){let{delegate:r}=$t;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=$t;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Mr(t){$t.setTimeout(()=>{let{onUnhandledError:e}=Se;if(e)e(t);else throw t})}function Bi(){}var tl=Vi("C",void 0,void 0);function nl(t){return Vi("E",void 0,t)}function rl(t){return Vi("N",t,void 0)}function Vi(t,e,n){return{kind:t,value:e,error:n}}var gt=null;function Gt(t){if(Se.useDeprecatedSynchronousErrorHandling){let e=!gt;if(e&&(gt={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=gt;if(gt=null,n)throw r}}else t()}function ol(t){Se.useDeprecatedSynchronousErrorHandling&&gt&&(gt.errorThrown=!0,gt.error=t)}var mt=class extends Q{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Tr(e)&&e.add(this)):this.destination=Eh}static create(e,n,r){return new zt(e,n,r)}next(e){this.isStopped?Hi(rl(e),this):this._next(e)}error(e){this.isStopped?Hi(nl(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hi(tl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yh=Function.prototype.bind;function Ui(t,e){return yh.call(t,e)}var $i=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){_r(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){_r(r)}else _r(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){_r(n)}}},zt=class extends mt{constructor(e,n,r){super();let o;if(x(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Se.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&Ui(e.next,i),error:e.error&&Ui(e.error,i),complete:e.complete&&Ui(e.complete,i)}):o=e}this.destination=new $i(o)}};function _r(t){Se.useDeprecatedSynchronousErrorHandling?ol(t):Mr(t)}function vh(t){throw t}function Hi(t,e){let{onStoppedNotification:n}=Se;n&&$t.setTimeout(()=>n(t,e))}var Eh={closed:!0,next:Bi,error:vh,complete:Bi};var Wt=typeof Symbol=="function"&&Symbol.observable||"@@observable";function il(t){return t}function sl(t){return t.length===0?il:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var G=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=bh(n)?n:new zt(n,r,o);return Gt(()=>{let{operator:s,source:c}=this;i.add(s?s.call(i,c):c?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=al(r),new r((o,i)=>{let s=new zt({next:c=>{try{n(c)}catch(a){i(a),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Wt](){return this}pipe(...n){return sl(n)(this)}toPromise(n){return n=al(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function al(t){var e;return(e=t??Se.Promise)!==null&&e!==void 0?e:Promise}function Dh(t){return t&&x(t.next)&&x(t.error)&&x(t.complete)}function bh(t){return t&&t instanceof mt||Dh(t)&&Tr(t)}function Ih(t){return x(t?.lift)}function qt(t){return e=>{if(Ih(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xr(t,e,n,r,o){return new Gi(t,e,n,r,o)}var Gi=class extends mt{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(a){e.error(a)}}:super._next,this._error=o?function(c){try{o(c)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var cl=wr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class t extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Nr(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new cl}next(n){Gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?ji:(this.currentObservers=null,i.push(n),new Q(()=>{this.currentObservers=null,Sn(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return t.create=(e,n)=>new Nr(e,n),t})(),Nr=class extends Fe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ji}};var yt=class extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var zi={now(){return(zi.delegate||Date).now()},delegate:void 0};var Tn=class extends Fe{constructor(e=1/0,n=1/0,r=zi){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!e.closed;s+=r?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){let s=n.now(),c=0;for(let a=1;a<r.length&&r[a]<=s;a+=2)c=a;c&&r.splice(0,c+1)}}};function ll(t){return t&&x(t.schedule)}function Ch(t){return t[t.length-1]}function ul(t){return ll(Ch(t))?t.pop():void 0}function fl(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function c(u){try{l(r.next(u))}catch(d){s(d)}}function a(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(c,a)}l((r=r.apply(t,e||[])).next())})}function dl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vt(t){return this instanceof vt?(this.v=t,this):new vt(t)}function pl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(h){return Promise.resolve(h).then(f,d)}}function c(f,h){r[f]&&(o[f]=function(v){return new Promise(function(O,U){i.push([f,v,O,U])>1||a(f,v)})},h&&(o[f]=h(o[f])))}function a(f,h){try{l(r[f](h))}catch(v){p(i[0][3],v)}}function l(f){f.value instanceof vt?Promise.resolve(f.value.v).then(u,d):p(i[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function p(f,h){f(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function hl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof dl=="function"?dl(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(c,a){s=t[i](s),o(c,a,s.done,s.value)})}}function o(i,s,c,a){Promise.resolve(a).then(function(l){i({value:l,done:c})},s)}}var Ar=t=>t&&typeof t.length=="number"&&typeof t!="function";function Rr(t){return x(t?.then)}function Or(t){return x(t[Wt])}function Pr(t){return Symbol.asyncIterator&&x(t?.[Symbol.asyncIterator])}function kr(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function wh(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fr=wh();function Lr(t){return x(t?.[Fr])}function jr(t){return pl(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield vt(n.read());if(o)return yield vt(void 0);yield yield vt(r)}}finally{n.releaseLock()}})}function Br(t){return x(t?.getReader)}function Yt(t){if(t instanceof G)return t;if(t!=null){if(Or(t))return Sh(t);if(Ar(t))return Th(t);if(Rr(t))return Mh(t);if(Pr(t))return gl(t);if(Lr(t))return _h(t);if(Br(t))return xh(t)}throw kr(t)}function Sh(t){return new G(e=>{let n=t[Wt]();if(x(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Th(t){return new G(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Mh(t){return new G(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Mr)})}function _h(t){return new G(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function gl(t){return new G(e=>{Nh(t,e).catch(n=>e.error(n))})}function xh(t){return gl(jr(t))}function Nh(t,e){var n,r,o,i;return fl(this,void 0,void 0,function*(){try{for(n=hl(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function Le(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function Vr(t,e=0){return qt((n,r)=>{n.subscribe(xr(r,o=>Le(r,t,()=>r.next(o),e),()=>Le(r,t,()=>r.complete(),e),o=>Le(r,t,()=>r.error(o),e)))})}function Ur(t,e=0){return qt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ml(t,e){return Yt(t).pipe(Ur(e),Vr(e))}function yl(t,e){return Yt(t).pipe(Ur(e),Vr(e))}function vl(t,e){return new G(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function El(t,e){return new G(n=>{let r;return Le(n,e,()=>{r=t[Fr](),Le(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>x(r?.return)&&r.return()})}function Hr(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(n=>{Le(n,e,()=>{let r=t[Symbol.asyncIterator]();Le(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Dl(t,e){return Hr(jr(t),e)}function bl(t,e){if(t!=null){if(Or(t))return ml(t,e);if(Ar(t))return vl(t,e);if(Rr(t))return yl(t,e);if(Pr(t))return Hr(t,e);if(Lr(t))return El(t,e);if(Br(t))return Dl(t,e)}throw kr(t)}function Il(t,e){return e?bl(t,e):Yt(t)}function Wi(...t){let e=ul(t);return Il(t,e)}function qi(t,e){return qt((n,r)=>{let o=0;n.subscribe(xr(r,i=>{r.next(t.call(e,i,o++))}))})}function Cl(t){let e=w(null);try{return t()}finally{w(e)}}var ss="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",C=class extends Error{code;constructor(e,n){super(nt(e,n)),this.code=e}};function Fh(t){return`NG0${Math.abs(t)}`}function nt(t,e){return`${Fh(t)}${e?": "+e:""}`}function A(t){for(let e in t)if(t[e]===A)return e;throw Error("")}function et(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(et).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function as(t,e){return t?e?`${t} ${e}`:t:e||""}var Lh=A({__forward_ref__:A});function Yr(t){return t.__forward_ref__=Yr,t.toString=function(){return et(this())},t}function ce(t){return Ml(t)?t():t}function Ml(t){return typeof t=="function"&&t.hasOwnProperty(Lh)&&t.__forward_ref__===Yr}function _l(t,e){t==null&&cs(e,t,null,"!=")}function cs(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Nn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zr(t){return jh(t,Kr)}function jh(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Bh(t){let e=t?.[Kr]??null;return e||null}function Zi(t){return t&&t.hasOwnProperty(Gr)?t[Gr]:null}var Kr=A({\u0275prov:A}),Gr=A({\u0275inj:A}),D=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ls(t){return t&&!!t.\u0275providers}var us=A({\u0275cmp:A}),ds=A({\u0275dir:A}),fs=A({\u0275pipe:A});var Ki=A({\u0275fac:A}),Ct=A({__NG_ELEMENT_ID__:A}),Sl=A({__NG_ENV_ID__:A});function Kt(t){return typeof t=="string"?t:t==null?"":String(t)}function zr(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Kt(t)}var ps=A({ngErrorCode:A}),xl=A({ngErrorMessage:A}),_n=A({ngTokenPath:A});function hs(t,e){return Nl("",-200,e)}function Qr(t,e){throw new C(-201,!1)}function Vh(t,e){t[_n]??=[];let n=t[_n],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(_l(e.provide,"Token with multi: true should have a provide property"),r=zr(e.provide)):r=zr(e),n[0]!==r&&t[_n].unshift(r)}function Uh(t,e){let n=t[_n],r=t[ps],o=t[xl]||t.message;return t.message=$h(o,r,n,e),t}function Nl(t,e,n){let r=new C(e,t);return r[ps]=e,r[xl]=t,n&&(r[_n]=n),r}function Hh(t){return t[ps]}function $h(t,e,n=[],r=null){let o="";n&&n.length>1&&(o=` Path: ${n.join(" -> ")}.`);let i=r?` Source: ${r}.`:"";return nt(e,`${t}${i}${o}`)}var Qi;function Al(){return Qi}function X(t){let e=Qi;return Qi=t,e}function gs(t,e,n){let r=Zr(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Qr(t,"Injector")}var Gh={},Et=Gh,zh="__NG_DI_FLAG__",Xi=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Dt(n)||0;try{return this.injector.get(e,r&8?null:Et,r)}catch(o){if(Ht(o))return o;throw o}}};function Wh(t,e=0){let n=vr();if(n===void 0)throw new C(-203,!1);if(n===null)return gs(t,void 0,e);{let r=qh(e),o=n.retrieve(t,r);if(Ht(o)){if(r.optional)return null;throw o}return o}}function m(t,e=0){return(Al()||Wh)(ce(t),e)}function g(t,e){return m(t,Dt(e))}function Dt(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function qh(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Ji(t){let e=[];for(let n=0;n<t.length;n++){let r=ce(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let c=r[s],a=Yh(c);typeof a=="number"?a===-1?o=c.token:i|=a:o=c}e.push(m(o,i))}else e.push(m(r))}return e}function Yh(t){return t[zh]}function bt(t,e){let n=t.hasOwnProperty(Ki);return n?t[Ki]:null}function Rl(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=e[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function Ol(t){return t.flat(Number.POSITIVE_INFINITY)}function Xr(t,e){t.forEach(n=>Array.isArray(n)?Xr(n,e):e(n))}function ms(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function An(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Pl(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function kl(t,e,n){let r=Qt(t,e);return r>=0?t[r|1]=n:(r=~r,Pl(t,r,e,n)),r}function Jr(t,e){let n=Qt(t,e);if(n>=0)return t[n|1]}function Qt(t,e){return Zh(t,e,1)}function Zh(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}var wt={},ye=[],Me=new D(""),ys=new D("",-1),vs=new D(""),xn=class{get(e,n=Et){if(n===Et){let o=Nl("",-201);throw o.name="\u0275NotFound",o}return n}};function rt(t){return t[us]||null}function eo(t){return t[ds]||null}function Es(t){return t[fs]||null}function qe(t){return{\u0275providers:t}}function Fl(t){return qe([{provide:Me,multi:!0,useValue:t}])}function Ll(...t){return{\u0275providers:to(!0,t),\u0275fromNgModule:!0}}function to(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return Xr(e,s=>{let c=s;Wr(c,i,[],r)&&(o||=[],o.push(c))}),o!==void 0&&jl(o,i),n}function jl(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];Ds(o,i=>{e(i,r)})}}function Wr(t,e,n,r){if(t=ce(t),!t)return!1;let o=null,i=Zi(t),s=!i&&rt(t);if(!i&&!s){let a=t.ngModule;if(i=Zi(a),i)o=a;else return!1}else{if(s&&!s.standalone)return!1;o=t}let c=r.has(o);if(s){if(c)return!1;if(r.add(o),s.dependencies){let a=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of a)Wr(l,e,n,r)}}else if(i){if(i.imports!=null&&!c){r.add(o);let l;try{Xr(i.imports,u=>{Wr(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&jl(l,e)}if(!c){let l=bt(o)||(()=>new o);e({provide:o,useFactory:l,deps:ye},o),e({provide:vs,useValue:o,multi:!0},o),e({provide:Me,useValue:()=>m(o),multi:!0},o)}let a=i.providers;if(a!=null&&!c){let l=t;Ds(a,u=>{e(u,l)})}}else return!1;return o!==t&&t.providers!==void 0}function Ds(t,e){for(let n of t)ls(n)&&(n=n.\u0275providers),Array.isArray(n)?Ds(n,e):e(n)}var Kh=A({provide:String,useValue:A});function Bl(t){return t!==null&&typeof t=="object"&&Kh in t}function Qh(t){return!!(t&&t.useExisting)}function Xh(t){return!!(t&&t.useFactory)}function qr(t){return typeof t=="function"}var Rn=new D(""),$r={},Tl={},Yi;function On(){return Yi===void 0&&(Yi=new xn),Yi}var le=class{},It=class extends le{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,ts(e,s=>this.processProvider(s)),this.records.set(ys,Zt(void 0,this)),o.has("environment")&&this.records.set(le,Zt(void 0,this));let i=this.records.get(Rn);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(vs,ye,{self:!0}))}retrieve(e,n){let r=Dt(n)||0;try{return this.get(e,Et,r)}catch(o){if(Ht(o))return o;throw o}}destroy(){Mn(this),this._destroyed=!0;let e=w(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),w(e)}}onDestroy(e){return Mn(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Mn(this);let n=ke(this),r=X(void 0),o;try{return e()}finally{ke(n),X(r)}}get(e,n=Et,r){if(Mn(this),e.hasOwnProperty(Sl))return e[Sl](this);let o=Dt(r),i,s=ke(this),c=X(void 0);try{if(!(o&4)){let l=this.records.get(e);if(l===void 0){let u=rg(e)&&Zr(e);u&&this.injectableDefInScope(u)?l=Zt(es(e),$r):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,o)}let a=o&2?On():this.parent;return n=o&8&&n===Et?null:n,a.get(e,n)}catch(a){let l=Hh(a);throw l===-200||l===-201?new C(l,null):a}finally{X(c),ke(s)}}resolveInjectorInitializers(){let e=w(null),n=ke(this),r=X(void 0),o;try{let i=this.get(Me,ye,{self:!0});for(let s of i)s()}finally{ke(n),X(r),w(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(et(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ce(e);let n=qr(e)?e:ce(e&&e.provide),r=eg(e);if(!qr(e)&&e.multi===!0){let o=this.records.get(n);o||(o=Zt(void 0,$r,!0),o.factory=()=>Ji(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let o=w(null);try{if(n.value===Tl)throw hs(et(e));return n.value===$r&&(n.value=Tl,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&ng(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{w(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ce(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function es(t){let e=Zr(t),n=e!==null?e.factory:bt(t);if(n!==null)return n;if(t instanceof D)throw new C(204,!1);if(t instanceof Function)return Jh(t);throw new C(204,!1)}function Jh(t){if(t.length>0)throw new C(204,!1);let n=Bh(t);return n!==null?()=>n.factory(t):()=>new t}function eg(t){if(Bl(t))return Zt(void 0,t.useValue);{let e=Vl(t);return Zt(e,$r)}}function Vl(t,e,n){let r;if(qr(t)){let o=ce(t);return bt(o)||es(o)}else if(Bl(t))r=()=>ce(t.useValue);else if(Xh(t))r=()=>t.useFactory(...Ji(t.deps||[]));else if(Qh(t))r=(o,i)=>m(ce(t.useExisting),i!==void 0&&i&8?8:void 0);else{let o=ce(t&&(t.useClass||t.provide));if(tg(t))r=()=>new o(...Ji(t.deps));else return bt(o)||es(o)}return r}function Mn(t){if(t.destroyed)throw new C(205,!1)}function Zt(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function tg(t){return!!t.deps}function ng(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function rg(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function ts(t,e){for(let n of t)Array.isArray(n)?ts(n,e):n&&ls(n)?ts(n.\u0275providers,e):e(n)}function Pn(t,e){let n;t instanceof It?(Mn(t),n=t):n=new Xi(t);let r,o=ke(n),i=X(void 0);try{return e()}finally{ke(o),X(i)}}function Ul(){return Al()!==void 0||vr()!=null}var J=0,y=1,I=2,B=3,ve=4,Ee=5,ue=6,Xt=7,ee=8,_e=9,Ye=10,R=11,Jt=12,bs=13,en=14,te=15,ot=16,St=17,Ve=18,kn=19,Is=20,We=21,no=22,Fn=23,de=24,Tt=25,L=26,Hl=1,xe=6,Ue=7,Ln=8,Mt=9,K=10;function De(t){return Array.isArray(t)&&typeof t[Hl]=="object"}function fe(t){return Array.isArray(t)&&t[Hl]===!0}function Cs(t){return(t.flags&4)!==0}function Ze(t){return t.componentOffset>-1}function ro(t){return(t.flags&1)===1}function _t(t){return!!t.template}function xt(t){return(t[I]&512)!==0}function it(t){return(t[I]&256)===256}var $l="svg",Gl="math";function pe(t){for(;Array.isArray(t);)t=t[J];return t}function ws(t,e){return pe(e[t])}function be(t,e){return pe(e[t.index])}function tn(t,e){return t.data[e]}function zl(t,e){return t[e]}function Ss(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ne(t,e){let n=e[t];return De(n)?n:n[J]}function Wl(t){return(t[I]&4)===4}function oo(t){return(t[I]&128)===128}function ql(t){return fe(t[B])}function jn(t,e){return e==null?null:t[e]}function Ts(t){t[St]=0}function Ms(t){t[I]&1024||(t[I]|=1024,oo(t)&&nn(t))}function Bn(t){return!!(t[I]&9216||t[de]?.dirty)}function io(t){t[Ye].changeDetectionScheduler?.notify(8),t[I]&64&&(t[I]|=1024),Bn(t)&&nn(t)}function nn(t){t[Ye].changeDetectionScheduler?.notify(0);let e=tt(t);for(;e!==null&&!(e[I]&8192||(e[I]|=8192,!oo(e)));)e=tt(e)}function _s(t,e){if(it(t))throw new C(911,!1);t[We]===null&&(t[We]=[]),t[We].push(e)}function Yl(t,e){if(t[We]===null)return;let n=t[We].indexOf(e);n!==-1&&t[We].splice(n,1)}function tt(t){let e=t[B];return fe(e)?e[B]:e}function xs(t){return t[Xt]??=[]}function Ns(t){return t.cleanup??=[]}function Zl(t,e,n,r){let o=xs(e);o.push(n),t.firstCreatePass&&Ns(t).push(r,o.length-1)}var S={lFrame:uu(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Vn=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(Vn||{}),og=0,ns=!1;function Kl(){return S.lFrame.elementDepthCount}function Ql(){S.lFrame.elementDepthCount++}function As(){S.lFrame.elementDepthCount--}function Xl(){return S.bindingsEnabled}function Rs(){return S.skipHydrationRootTNode!==null}function Os(t){return S.skipHydrationRootTNode===t}function Jl(t){S.skipHydrationRootTNode=t}function Ps(){S.skipHydrationRootTNode=null}function N(){return S.lFrame.lView}function he(){return S.lFrame.tView}function ne(t){return S.lFrame.contextLView=t,t[ee]}function re(t){return S.lFrame.contextLView=null,t}function oe(){let t=ks();for(;t!==null&&t.type===64;)t=t.parent;return t}function ks(){return S.lFrame.currentTNode}function eu(){let t=S.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Un(t,e){let n=S.lFrame;n.currentTNode=t,n.isParent=e}function Fs(){return S.lFrame.isParent}function tu(){S.lFrame.isParent=!1}function Ls(t){cs("Must never be called in production mode"),og=t}function js(){return ns}function Bs(t){let e=ns;return ns=t,e}function nu(){let t=S.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ru(){return S.lFrame.bindingIndex}function ou(t){return S.lFrame.bindingIndex=t}function Hn(){return S.lFrame.bindingIndex++}function Vs(t){let e=S.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function iu(){return S.lFrame.inI18n}function su(t,e){let n=S.lFrame;n.bindingIndex=n.bindingRootIndex=t,so(e)}function au(){return S.lFrame.currentDirectiveIndex}function so(t){S.lFrame.currentDirectiveIndex=t}function cu(t){let e=S.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Us(){return S.lFrame.currentQueryIndex}function ao(t){S.lFrame.currentQueryIndex=t}function ig(t){let e=t[y];return e.type===2?e.declTNode:e.type===1?t[Ee]:null}function Hs(t,e,n){if(n&4){let o=e,i=t;for(;o=o.parent,o===null&&!(n&1);)if(o=ig(i),o===null||(i=i[en],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=S.lFrame=lu();return r.currentTNode=e,r.lView=t,!0}function co(t){let e=lu(),n=t[y];S.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lu(){let t=S.lFrame,e=t===null?null:t.child;return e===null?uu(t):e}function uu(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function du(){let t=S.lFrame;return S.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var $s=du;function lo(){let t=du();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function st(){return S.lFrame.selectedIndex}function at(t){S.lFrame.selectedIndex=t}function uo(){let t=S.lFrame;return tn(t.tView,t.selectedIndex)}function Gs(){return S.lFrame.currentNamespace}var fu=!0;function zs(){return fu}function Ke(t){fu=t}function rs(t,e=null,n=null,r){let o=pu(t,e,n,r);return o.resolveInjectorInitializers(),o}function pu(t,e=null,n=null,r,o=new Set){let i=[n||ye,Ll(t)];return r=r||(typeof t=="object"?void 0:et(t)),new It(i,e||On(),r||null,o)}var je=class t{static THROW_IF_NOT_FOUND=Et;static NULL=new xn;static create(e,n){if(Array.isArray(e))return rs({name:""},n,e,"");{let r=e.name??"";return rs({name:r},e.parent,e.providers,r)}}static \u0275prov=b({token:t,providedIn:"any",factory:()=>m(ys)});static __NG_ELEMENT_ID__=-1},ge=new D(""),Nt=(()=>{class t{static __NG_ELEMENT_ID__=sg;static __NG_ENV_ID__=n=>n}return t})(),os=class extends Nt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return it(this._lView)}onDestroy(e){let n=this._lView;return _s(n,e),()=>Yl(n,e)}};function sg(){return new os(N())}var Te=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ie=new D("",{providedIn:"root",factory:()=>{let t=g(le),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Te),e.handleError(n))}}}),hu={provide:Me,useValue:()=>void g(Te),multi:!0},ag=new D("",{providedIn:"root",factory:()=>{let t=g(ge).defaultView;if(!t)return;let e=g(Ie),n=i=>{e(i.reason),i.preventDefault()},r=i=>{i.error?e(i.error):e(new Error(i.message,{cause:i})),i.preventDefault()},o=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(o):o(),g(Nt).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Ws(){return qe([Fl(()=>void g(ag))])}var Be=class{},rn=new D("",{providedIn:"root",factory:()=>!1});var qs=new D(""),fo=new D("");var po=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=cg}return t})();function cg(){return new po(N(),oe())}var Qe=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new yt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new G(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=b({token:t,providedIn:"root",factory:()=>new t})}return t})(),ho=(()=>{class t{internalPendingTasks=g(Qe);scheduler=g(Be);errorHandler=g(Ie);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=b({token:t,providedIn:"root",factory:()=>new t})}return t})();function $n(...t){}var Ys=(()=>{class t{static \u0275prov=b({token:t,providedIn:"root",factory:()=>new is})}return t})(),is=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var go={JSACTION:"jsaction"};function Na(t){return{toString:t}.toString()}function Eg(t){return typeof t=="function"}var wo=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Qu(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Dg(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ig),bg}function bg(){let t=Ju(this),e=t?.current;if(e){let n=t.previous;if(n===wt)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ig(t,e,n,r,o){let i=this.declaredInputs[r],s=Ju(t)||Cg(t,{previous:wt,current:null}),c=s.current||(s.current={}),a=s.previous,l=a[i];c[i]=new wo(l&&l.currentValue,n,a===wt),Qu(t,e,o,n)}var Xu="__ngSimpleChanges__";function Ju(t){return t[Xu]||null}function Cg(t,e){return t[Xu]=e}var gu=[];var _=function(t,e=null,n){for(let r=0;r<gu.length;r++){let o=gu[r];o(t,e,n)}};function wg(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=Dg(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function Sg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:a,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),a&&(t.viewHooks??=[]).push(-n,a),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function yo(t,e,n){ed(t,e,3,n)}function vo(t,e,n,r){(t[I]&3)===n&&ed(t,e,n,r)}function Zs(t,e){let n=t[I];(n&3)===e&&(n&=16383,n+=1,t[I]=n)}function ed(t,e,n,r){let o=r!==void 0?t[St]&65535:0,i=r??-1,s=e.length-1,c=0;for(let a=o;a<s;a++)if(typeof e[a+1]=="number"){if(c=e[a],r!=null&&c>=r)break}else e[a]<0&&(t[St]+=65536),(c<i||i==-1)&&(Tg(t,n,e,a),t[St]=(t[St]&4294901760)+a+2),a++}function mu(t,e){_(4,t,e);let n=w(null);try{e.call(t)}finally{w(n),_(5,t,e)}}function Tg(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],c=t[s];o?t[I]>>14<t[St]>>16&&(t[I]&3)===e&&(t[I]+=16384,mu(c,i)):mu(c,i)}var sn=-1,Wn=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function Mg(t){return(t.flags&8)!==0}function _g(t){return(t.flags&16)!==0}function xg(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,i)}else{let i=o,s=n[++r];Ag(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function Ng(t){return t===3||t===4||t===6}function Ag(t){return t.charCodeAt(0)===64}function Aa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?yu(t,n,o,null,e[++r]):yu(t,n,o,null,null))}}return t}function yu(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let c=t[i++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=i-1;break}}}for(;i<t.length;){let c=t[i];if(typeof c=="number")break;if(c===n){o!==null&&(t[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),o!==null&&t.splice(i++,0,o)}function td(t){return t!==sn}function So(t){return t&32767}function Rg(t){return t>>16}function To(t,e){let n=Rg(t),r=e;for(;n>0;)r=r[en],n--;return r}var oa=!0;function Mo(t){let e=oa;return oa=t,e}var Og=256,nd=Og-1,rd=5,Pg=0,He={};function kg(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ct)&&(r=n[Ct]),r==null&&(r=n[Ct]=Pg++);let o=r&nd,i=1<<o;e.data[t+(o>>rd)]|=i}function od(t,e){let n=id(t,e);if(n!==-1)return n;let r=e[y];r.firstCreatePass&&(t.injectorIndex=e.length,Ks(r.data,t),Ks(e,null),Ks(r.blueprint,null));let o=Ra(t,e),i=t.injectorIndex;if(td(o)){let s=So(o),c=To(o,e),a=c[y].data;for(let l=0;l<8;l++)e[i+l]=c[s+l]|a[s+l]}return e[i+8]=o,i}function Ks(t,e){t.push(0,0,0,0,0,0,0,0,e)}function id(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ra(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=ud(o),r===null)return sn;if(n++,o=o[en],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return sn}function Fg(t,e,n){kg(t,e,n)}function sd(t,e,n){if(n&8||t!==void 0)return t;Qr(e,"NodeInjector")}function ad(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=t[_e],i=X(void 0);try{return o?o.get(e,r,n&8):gs(e,r,n&8)}finally{X(i)}}return sd(r,e,n)}function cd(t,e,n,r=0,o){if(t!==null){if(e[I]&2048&&!(r&2)){let s=Vg(t,e,n,r,He);if(s!==He)return s}let i=ld(t,e,n,r,He);if(i!==He)return i}return ad(e,n,r,o)}function ld(t,e,n,r,o){let i=jg(n);if(typeof i=="function"){if(!Hs(e,t,r))return r&1?sd(o,n,r):ad(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))Qr(n);else return s}finally{$s()}}else if(typeof i=="number"){let s=null,c=id(t,e),a=sn,l=r&1?e[te][Ee]:null;for((c===-1||r&4)&&(a=c===-1?Ra(t,e):e[c+8],a===sn||!Eu(r,!1)?c=-1:(s=e[y],c=So(a),e=To(a,e)));c!==-1;){let u=e[y];if(vu(i,c,u.data)){let d=Lg(c,e,n,s,r,l);if(d!==He)return d}a=e[c+8],a!==sn&&Eu(r,e[y].data[c+8]===l)&&vu(i,c,e)?(s=u,c=So(a),e=To(a,e)):c=-1}}return o}function Lg(t,e,n,r,o,i){let s=e[y],c=s.data[t+8],a=r==null?Ze(c)&&oa:r!=s&&(c.type&3)!==0,l=o&1&&i===c,u=Eo(c,s,n,a,l);return u!==null?_o(e,s,u,c,o):He}function Eo(t,e,n,r,o){let i=t.providerIndexes,s=e.data,c=i&1048575,a=t.directiveStart,l=t.directiveEnd,u=i>>20,d=r?c:c+u,p=o?c+u:l;for(let f=d;f<p;f++){let h=s[f];if(f<a&&n===h||f>=a&&h.type===n)return f}if(o){let f=s[a];if(f&&_t(f)&&f.type===n)return a}return null}function _o(t,e,n,r,o){let i=t[n],s=e.data;if(i instanceof Wn){let c=i;if(c.resolving){let f=zr(s[n]);throw hs(f)}let a=Mo(c.canSeeViewProviders);c.resolving=!0;let l=s[n].type||s[n],u,d=c.injectImpl?X(c.injectImpl):null,p=Hs(t,r,0);try{i=t[n]=c.factory(void 0,o,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&wg(n,s[n],e)}finally{d!==null&&X(d),Mo(a),c.resolving=!1,$s()}}return i}function jg(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ct)?t[Ct]:void 0;return typeof e=="number"?e>=0?e&nd:Bg:e}function vu(t,e,n){let r=1<<t;return!!(n[e+(t>>rd)]&r)}function Eu(t,e){return!(t&2)&&!(t&1&&e)}var Rt=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return cd(this._tNode,this._lView,e,Dt(r),n)}};function Bg(){return new Rt(oe(),N())}function Vg(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[I]&2048&&!xt(s);){let c=ld(i,s,n,r|2,He);if(c!==He)return c;let a=i.parent;if(!a){let l=s[Is];if(l){let u=l.get(n,He,r);if(u!==He)return u}a=ud(s),s=s[en]}i=a}return o}function ud(t){let e=t[y],n=e.type;return n===2?e.declTNode:n===1?t[Ee]:null}function Ug(){return dn(oe(),N())}function dn(t,e){return new fn(be(t,e))}var fn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Ug}return t})();function Hg(t){return t instanceof fn?t.nativeElement:t}function $g(){return this._results[Symbol.iterator]()}var xo=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Fe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Ol(e);(this._changesDetected=!Rl(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=$g},dd="ngSkipHydration",Gg="ngskiphydration";function fd(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===Gg)return!0}return!1}function pd(t){return t.hasAttribute(dd)}function No(t){return(t.flags&128)===128}function hd(t){if(No(t))return!0;let e=t.parent;for(;e;){if(No(t)||fd(e))return!0;e=e.parent}return!1}var Oa=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Oa||{}),gd=new Map,zg=0;function Wg(){return zg++}function qg(t){gd.set(t[kn],t)}function ia(t){gd.delete(t[kn])}var Du="__ngContext__";function qn(t,e){De(e)?(t[Du]=e[kn],qg(e)):t[Du]=e}function md(t){return vd(t[Jt])}function yd(t){return vd(t[ve])}function vd(t){for(;t!==null&&!fe(t);)t=t[ve];return t}var sa;function Pa(t){sa=t}function tr(){if(sa!==void 0)return sa;if(typeof document<"u")return document;throw new C(210,!1)}var Ge=new D("",{providedIn:"root",factory:()=>Yg}),Yg="ng",Bo=new D(""),W=new D("",{providedIn:"platform",factory:()=>"unknown"});var Vo=new D("",{providedIn:"root",factory:()=>tr().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Zg(){let t=new kt;return t.store=Ed(tr(),g(Ge)),t}var kt=(()=>{class t{static \u0275prov=b({token:t,providedIn:"root",factory:Zg});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function Ed(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var Dd="h",bd="b",Kg="f",Qg="n",Id="e",Cd="t",Uo="c",ka="x",Yn="r",wd="i",Sd="n",Fa="d";var Td="di",Md="s",_d="p";var nr=new D(""),xd=!1,La=new D("",{providedIn:"root",factory:()=>xd});var ja=new D(""),Nd=!1,Ad=new D(""),Ba=new D("",{providedIn:"root",factory:()=>new Map});var rr="ngb";var Rd=(t,e,n)=>{let r=t,o=r.__jsaction_fns??new Map,i=o.get(e)??[];i.push(n),o.set(e,i),r.__jsaction_fns=o},Od=(t,e)=>{let n=t,r=n.getAttribute(rr)??"",o=e.get(r)??new Set;o.has(n)||o.add(n),e.set(r,o)};var Pd=t=>{t.removeAttribute(go.JSACTION),t.removeAttribute(rr),t.__jsaction_fns=void 0},kd=new D("",{providedIn:"root",factory:()=>({})});function Va(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var aa=new Map;function Fd(t,e){return aa.set(t,e),()=>aa.delete(t)}var bu=!1,Ld=(t,e,n,r)=>{};function Xg(t,e,n,r){Ld(t,e,n,r)}function jd(){bu||(Ld=(t,e,n,r)=>{let o=t[_e].get(Ge);aa.get(o)?.(e,n,r)},bu=!0)}var Ho=new D("");function $o(t){return(t.flags&32)===32}var Jg="__nghData__",Ua=Jg,em="__nghDeferData__",Bd=em;var Do="ngh",Vd="nghm",Ud=()=>null;function tm(t,e,n=!1){let r=t.getAttribute(Do);if(r==null)return null;let[o,i]=r.split("|");if(r=n?i:o,!r)return null;let s=i?`|${i}`:"",c=n?o:s,a={};if(r!==""){let u=e.get(kt,null,{optional:!0});u!==null&&(a=u.get(Ua,[])[Number(r)])}let l={data:a,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Go(l,0,t.nextSibling)),c?t.setAttribute(Do,c):t.removeAttribute(Do),l}function Hd(){Ud=tm}function $d(t,e,n=!1){return Ud(t,e,n)}function Gd(t){let e=t._lView;return e[y].type===2?null:(xt(e)&&(e=e[L]),e)}function nm(t){return t.textContent?.replace(/\s/gm,"")}function rm(t){let e=tr(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(i){let s=nm(i);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,o=[];for(;r=n.nextNode();)o.push(r);for(let i of o)i.textContent==="ngetn"?i.replaceWith(e.createTextNode("")):i.remove()}function Go(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function ca(t,e){return t.segmentHeads?.[e]??null}function zd(t){return t.get(Ad,!1,{optional:!0})}function om(t,e){let n=t.data,r=n[Id]?.[e]??null;return r===null&&n[Uo]?.[e]&&(r=Ha(t,e)),r}function Wd(t,e){return t.data[Uo]?.[e]??null}function Ha(t,e){let n=Wd(t,e)??[],r=0;for(let o of n)r+=o[Yn]*(o[ka]??1);return r}function im(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[Fa];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function qd(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[Fa];t.disconnectedNodes=n?new Set(n):null}return!!im(t)?.has(e)}function zo(t,e){let n=t[ue];return n!==null&&!Rs()&&!$o(e)&&!qd(n,e.index-L)}function sm(t,e){let n=e.get(Ho),o=e.get(kt).get(Bd,{}),i=!1,s=t,c=null,a=[];for(;!i&&s;){i=n.has(s);let l=n.hydrating.get(s);if(c===null&&l!=null){c=l.promise;break}a.unshift(s),s=o[s][_d]}return{parentBlockPromise:c,hydrationQueue:a}}function Qs(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===Vd}function Iu(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function Yd(t){for(let r of t.body.childNodes)if(Qs(r))return;let e=Iu(t.body.previousSibling);if(Qs(e))return;let n=Iu(t.head.lastChild);if(!Qs(n))throw new C(-507,!1)}function Zd(t,e){let n=t.contentQueries;if(n!==null){let r=w(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let c=t.data[s];ao(i),c.contentQueries(2,e[s],s)}}}finally{w(r)}}}function la(t,e,n){ao(0);let r=w(null);try{e(t,n)}finally{w(r)}}function Kd(t,e,n){if(Cs(e)){let r=w(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let c=t.data[s];if(c.contentQueries){let a=n[s];c.contentQueries(1,a,s)}}}finally{w(r)}}}var Xe=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Xe||{});var ua=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ss})`}};function $a(t){return t instanceof ua?t.changingThisBreaksApplicationSecurity:t}var am=/^>|^->|<!--|-->|--!>|<!-$/g,cm=/(<|>)/g,lm="\u200B$1\u200B";function um(t){return t.replace(am,e=>e.replace(cm,lm))}function Qd(t){return t.ownerDocument.body}function dm(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}var Xd="ng-template";function fm(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&dm(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Ga(t))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Ga(t){return t.type===4&&t.value!==Xd}function pm(t,e,n){let r=t.type===4&&!n?Xd:t.value;return e===r}function hm(t,e,n){let r=4,o=t.attrs,i=o!==null?ym(o):0,s=!1;for(let c=0;c<e.length;c++){let a=e[c];if(typeof a=="number"){if(!s&&!Ae(r)&&!Ae(a))return!1;if(s&&Ae(a))continue;s=!1,r=a|r&1;continue}if(!s)if(r&4){if(r=2|r&1,a!==""&&!pm(t,a,n)||a===""&&e.length===1){if(Ae(r))return!1;s=!0}}else if(r&8){if(o===null||!fm(t,o,a,n)){if(Ae(r))return!1;s=!0}}else{let l=e[++c],u=gm(a,o,Ga(t),n);if(u===-1){if(Ae(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(Ae(r))return!1;s=!0}}}}return Ae(r)||s}function Ae(t){return(t&1)===0}function gm(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let c=e[++o];for(;typeof c=="string";)c=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return vm(e,t)}function mm(t,e,n=!1){for(let r=0;r<e.length;r++)if(hm(t,e[r],n))return!0;return!1}function ym(t){for(let e=0;e<t.length;e++){let n=t[e];if(Ng(n))return e}return t.length}function vm(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Cu(t,e){return t?":not("+e.trim()+")":e}function Em(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];o+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Ae(s)&&(e+=Cu(i,o),o=""),r=s,i=i||!Ae(r);n++}return o!==""&&(e+=Cu(i,o)),e}function Dm(t){return t.map(Em).join(",")}function bm(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!Ae(o))break;o=i}r++}return n.length&&e.push(1,...n),e}var Oe={};function Jd(t,e){return t.createText(e)}function Im(t,e,n){t.setValue(e,n)}function ef(t,e){return t.createComment(um(e))}function za(t,e,n){return t.createElement(e,n)}function Ao(t,e,n,r,o){t.insertBefore(e,n,r,o)}function tf(t,e,n){t.appendChild(e,n)}function wu(t,e,n,r,o){r!==null?Ao(t,e,n,r,o):tf(t,e,n)}function Wa(t,e,n){t.removeChild(null,e,n)}function nf(t){t.textContent=""}function Cm(t,e,n){t.setAttribute(e,"style",n)}function wm(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function rf(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&xg(t,e,r),o!==null&&wm(t,e,o),i!==null&&Cm(t,e,i)}function of(t,e,n,r,o,i,s,c,a,l,u){let d=L+r,p=d+o,f=Sm(d,p),h=typeof l=="function"?l():l;return f[y]={type:t,blueprint:f,template:n,queries:null,viewQuery:c,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:a,consts:h,incompleteFirstPass:!1,ssrId:u}}function Sm(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Oe);return n}function Tm(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=of(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function qa(t,e,n,r,o,i,s,c,a,l,u){let d=e.blueprint.slice();return d[J]=o,d[I]=r|4|128|8|64|1024,(l!==null||t&&t[I]&2048)&&(d[I]|=2048),Ts(d),d[B]=d[en]=t,d[ee]=n,d[Ye]=s||t&&t[Ye],d[R]=c||t&&t[R],d[_e]=a||t&&t[_e]||null,d[Ee]=i,d[kn]=Wg(),d[ue]=u,d[Is]=l,d[te]=e.type==2?t[te]:d,d}function Mm(t,e,n){let r=be(e,t),o=Tm(n),i=t[Ye].rendererFactory,s=cf(t,qa(t,o,null,sf(n),r,e,null,i.createRenderer(r,n),null,null,null));return t[e.index]=s}function sf(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function af(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function cf(t,e){return t[Jt]?t[bs][ve]=e:t[Jt]=e,t[bs]=e,e}function V(t=1){lf(he(),N(),st()+t,!1)}function lf(t,e,n,r){if(!r)if((e[I]&3)===3){let i=t.preOrderCheckHooks;i!==null&&yo(e,i,n)}else{let i=t.preOrderHooks;i!==null&&vo(e,i,0,n)}at(n)}var Wo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Wo||{});function da(t,e,n,r){let o=w(null);try{let[i,s,c]=t.inputs[n],a=null;(s&Wo.SignalBased)!==0&&(a=e[i][ht]),a!==null&&a.transformFn!==void 0?r=a.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,a,r,n,i):Qu(e,a,i,r)}finally{w(o)}}var $e=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}($e||{}),_m;function Ya(t,e){return _m(t,e)}function on(t,e,n,r,o){if(r!=null){let i,s=!1;fe(r)?i=r:De(r)&&(s=!0,r=r[J]);let c=pe(r);t===0&&n!==null?o==null?tf(e,n,c):Ao(e,n,c,o||null,!0):t===1&&n!==null?Ao(e,n,c,o||null,!0):t===2?Wa(e,c,s):t===3&&e.destroyNode(c),i!=null&&Vm(e,t,i,n,o)}}function xm(t,e){uf(t,e),e[J]=null,e[Ee]=null}function Nm(t,e,n,r,o,i){r[J]=o,r[Ee]=e,qo(t,r,n,1,o,i)}function uf(t,e){e[Ye].changeDetectionScheduler?.notify(9),qo(t,e,e[R],2,null,null)}function Am(t){let e=t[Jt];if(!e)return Xs(t[y],t);for(;e;){let n=null;if(De(e))n=e[Jt];else{let r=e[K];r&&(n=r)}if(!n){for(;e&&!e[ve]&&e!==t;)De(e)&&Xs(e[y],e),e=e[B];e===null&&(e=t),De(e)&&Xs(e[y],e),n=e&&e[ve]}e=n}}function Za(t,e){let n=t[Mt],r=n.indexOf(e);n.splice(r,1)}function Ka(t,e){if(it(e))return;let n=e[R];n.destroyNode&&qo(t,e,n,3,null,null),Am(e)}function Xs(t,e){if(it(e))return;let n=w(null);try{e[I]&=-129,e[I]|=256,e[de]&&Ir(e[de]),Om(t,e),Rm(t,e),e[y].type===1&&e[R].destroy();let r=e[ot];if(r!==null&&fe(e[B])){r!==e[B]&&Za(r,e);let o=e[Ve];o!==null&&o.detachView(t)}ia(e)}finally{w(n)}}function Rm(t,e){let n=t.cleanup,r=e[Xt];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Xt]=null);let o=e[We];if(o!==null){e[We]=null;for(let s=0;s<o.length;s++){let c=o[s];c()}}let i=e[Fn];if(i!==null){e[Fn]=null;for(let s of i)s.destroy()}}function Om(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof Wn)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let c=o[i[s]],a=i[s+1];_(4,c,a);try{a.call(c)}finally{_(5,c,a)}}else{_(4,o,i);try{i.call(o)}finally{_(5,o,i)}}}}}function Pm(t,e,n){return km(t,e.parent,n)}function km(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[J];if(Ze(r)){let{encapsulation:o}=t.data[r.directiveStart+r.componentOffset];if(o===Xe.None||o===Xe.Emulated)return null}return be(r,n)}function Fm(t,e,n){return jm(t,e,n)}function Lm(t,e,n){return t.type&40?be(t,n):null}var jm=Lm,Su;function df(t,e,n,r){let o=Pm(t,r,e),i=e[R],s=r.parent||e[Ee],c=Fm(s,r,e);if(o!=null)if(Array.isArray(n))for(let a=0;a<n.length;a++)wu(i,o,n[a],c,!1);else wu(i,o,n,c,!1);Su!==void 0&&Su(i,r,e,n,o)}function Gn(t,e){if(e!==null){let n=e.type;if(n&3)return be(e,t);if(n&4)return fa(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Gn(t,r);{let o=t[e.index];return fe(o)?fa(-1,o):pe(o)}}else{if(n&128)return Gn(t,e.next);if(n&32)return Ya(e,t)()||pe(t[e.index]);{let r=ff(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=tt(t[te]);return Gn(o,r)}else return Gn(t,e.next)}}}return null}function ff(t,e){if(e!==null){let r=t[te][Ee],o=e.projection;return r.projection[o]}return null}function fa(t,e){let n=K+t+1;if(n<e.length){let r=e[n],o=r[y].firstChild;if(o!==null)return Gn(r,o)}return e[Ue]}function Qa(t,e,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],a=n.type;if(s&&e===0&&(c&&qn(pe(c),r),n.flags|=2),!$o(n))if(a&8)Qa(t,e,n.child,r,o,i,!1),on(e,t,o,c,i);else if(a&32){let l=Ya(n,r),u;for(;u=l();)on(e,t,o,u,i);on(e,t,o,c,i)}else a&16?Bm(t,e,r,n,o,i):on(e,t,o,c,i);n=s?n.projectionNext:n.next}}function qo(t,e,n,r,o,i){Qa(n,r,t.firstChild,e,o,i,!1)}function Bm(t,e,n,r,o,i){let s=n[te],a=s[Ee].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++){let u=a[l];on(e,t,o,u,i)}else{let l=a,u=s[B];No(r)&&(l.flags|=128),Qa(t,e,l,u,o,i,!0)}}function Vm(t,e,n,r,o){let i=n[Ue],s=pe(n);i!==s&&on(e,t,r,i,o);for(let c=K;c<n.length;c++){let a=n[c];qo(a[y],a,t,e,r,i)}}function Um(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:$e.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=$e.Important),t.setStyle(n,r,o,i))}}function pf(t,e,n,r,o){let i=st(),s=r&2;try{at(-1),s&&e.length>L&&lf(t,e,L,!1),_(s?2:0,o,n),n(r,o)}finally{at(i),_(s?3:1,o,n)}}function hf(t,e,n){Ym(t,e,n),(n.flags&64)===64&&Zm(t,e,n)}function gf(t,e,n=be){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],c=s===-1?n(e,t):t[s];t[o++]=c}}}function Hm(t,e,n,r){let i=r.get(La,xd)||n===Xe.ShadowDom,s=t.selectRootElement(e,i);return $m(s),s}function $m(t){mf(t)}var mf=()=>null;function Gm(t){pd(t)?nf(t):rm(t)}function yf(){mf=Gm}function zm(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Wm(t,e,n,r,o,i){let s=e[y];if(Ja(t,s,e,n,r)){Ze(t)&&qm(e,t.index);return}t.type&3&&(n=zm(n)),vf(t,e,n,r,o,i)}function vf(t,e,n,r,o,i){if(t.type&3){let s=be(t,e);r=i!=null?i(r,t.value||"",n):r,o.setProperty(s,n,r)}else t.type&12}function qm(t,e){let n=Ne(e,t);n[I]&16||(n[I]|=64)}function Ym(t,e,n){let r=n.directiveStart,o=n.directiveEnd;Ze(n)&&Mm(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||od(n,e);let i=n.initialInputs;for(let s=r;s<o;s++){let c=t.data[s],a=_o(e,t,s,n);if(qn(a,e),i!==null&&ey(e,s-r,a,c,n,i),_t(c)){let l=Ne(n.index,e);l[ee]=_o(e,t,s,n)}}}function Zm(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=au();try{at(i);for(let c=r;c<o;c++){let a=t.data[c],l=e[c];so(c),(a.hostBindings!==null||a.hostVars!==0||a.hostAttrs!==null)&&Km(a,l)}}finally{at(-1),so(s)}}function Km(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Qm(t,e){let n=t.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];mm(e,i.selectors,!1)&&(r??=[],_t(i)?r.unshift(i):r.push(i))}return r}function Xm(t,e,n,r,o,i){let s=be(t,e);Jm(e[R],s,i,t.value,n,r,o)}function Jm(t,e,n,r,o,i,s){if(i==null)t.removeAttribute(e,o,n);else{let c=s==null?Kt(i):s(i,r||"",o);t.setAttribute(e,o,c,n)}}function ey(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let c=0;c<s.length;c+=2){let a=s[c],l=s[c+1];da(r,n,a,l)}}function Ef(t,e,n,r,o){let i=L+n,s=e[y],c=o(s,e,t,r,n);e[i]=c,Un(t,!0);let a=t.type===2;return a?(rf(e[R],c,t),(Kl()===0||ro(t))&&qn(c,e),Ql()):qn(c,e),zs()&&(!a||!$o(t))&&df(s,e,c,t),t}function Df(t){let e=t;return Fs()?tu():(e=e.parent,Un(e,!1)),e}function Xa(t,e){let n=t[_e];if(!n)return;n.get(Ie,null)?.(e)}function Ja(t,e,n,r,o){let i=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1],d=e.data[l];da(d,n[l],u,o),c=!0}if(i)for(let a of i){let l=n[a],u=e.data[a];da(u,l,r,o),c=!0}return c}function ty(t,e){let n=Ne(e,t),r=n[y];ny(r,n);let o=n[J];o!==null&&n[ue]===null&&(n[ue]=$d(o,n[_e])),_(18),ec(r,n,n[ee]),_(19,n[ee])}function ny(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ec(t,e,n){co(e);try{let r=t.viewQuery;r!==null&&la(1,r,n);let o=t.template;o!==null&&pf(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ve]?.finishViewCreation(t),t.staticContentQueries&&Zd(t,e),t.staticViewQueries&&la(2,t.viewQuery,n);let i=t.components;i!==null&&ry(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[I]&=-5,lo()}}function ry(t,e){for(let n=0;n<e.length;n++)ty(t,e[n])}function bf(t,e,n,r){let o=w(null);try{let i=e.tView,c=t[I]&4096?4096:16,a=qa(t,i,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];a[ot]=l;let u=t[Ve];return u!==null&&(a[Ve]=u.createEmbeddedView(i)),ec(i,a,n),a}finally{w(o)}}function pa(t,e){return!e||e.firstChild===null||No(t)}var Tu=!1,oy=new D("");function Zn(t,e,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&r.push(pe(i)),fe(i)&&If(i,r);let s=n.type;if(s&8)Zn(t,e,n.child,r);else if(s&32){let c=Ya(n,e),a;for(;a=c();)r.push(a)}else if(s&16){let c=ff(e,n);if(Array.isArray(c))r.push(...c);else{let a=tt(e[te]);Zn(a[y],a,c,r,!0)}}n=o?n.projectionNext:n.next}return r}function If(t,e){for(let n=K;n<t.length;n++){let r=t[n],o=r[y].firstChild;o!==null&&Zn(r[y],r,o,e)}t[Ue]!==t[J]&&e.push(t[Ue])}function Cf(t){if(t[Tt]!==null){for(let e of t[Tt])e.impl.addSequence(e);t[Tt].length=0}}var wf=[];function iy(t){return t[de]??sy(t)}function sy(t){let e=wf.pop()??Object.create(cy);return e.lView=t,e}function ay(t){t.lView[de]!==t&&(t.lView=null,wf.push(t))}var cy=Z(M({},Cn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{nn(t.lView)},consumerOnSignalRead(){this.lView[de]=this}});function ly(t){let e=t[de]??Object.create(uy);return e.lView=t,e}var uy=Z(M({},Cn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=tt(t.lView);for(;e&&!Sf(e[y]);)e=tt(e);e&&Ms(e)},consumerOnSignalRead(){this.lView[de]=this}});function Sf(t){return t.type!==2}function Tf(t){if(t[Fn]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Fn])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[I]&8192)}}var dy=100;function tc(t,e=0){let r=t[Ye].rendererFactory,o=!1;o||r.begin?.();try{fy(t,e)}finally{o||r.end?.()}}function fy(t,e){let n=js();try{Bs(!0),ha(t,e);let r=0;for(;Bn(t);){if(r===dy)throw new C(103,!1);r++,ha(t,1)}}finally{Bs(n)}}function Mf(t,e){Ls(e?Vn.Exhaustive:Vn.OnlyDirtyViews);try{tc(t)}finally{Ls(Vn.Off)}}function py(t,e,n,r){if(it(e))return;let o=e[I],i=!1,s=!1;co(e);let c=!0,a=null,l=null;i||(Sf(t)?(l=iy(e),a=wn(l)):Pi()===null?(c=!1,l=ly(e),a=wn(l)):e[de]&&(Ir(e[de]),e[de]=null));try{Ts(e),ou(t.bindingStartIndex),n!==null&&pf(t,e,n,2,r);let u=(o&3)===3;if(!i)if(u){let f=t.preOrderCheckHooks;f!==null&&yo(e,f,null)}else{let f=t.preOrderHooks;f!==null&&vo(e,f,0,null),Zs(e,0)}if(s||hy(e),Tf(e),_f(e,0),t.contentQueries!==null&&Zd(t,e),!i)if(u){let f=t.contentCheckHooks;f!==null&&yo(e,f)}else{let f=t.contentHooks;f!==null&&vo(e,f,1),Zs(e,1)}my(t,e);let d=t.components;d!==null&&Nf(e,d,0);let p=t.viewQuery;if(p!==null&&la(2,p,r),!i)if(u){let f=t.viewCheckHooks;f!==null&&yo(e,f)}else{let f=t.viewHooks;f!==null&&vo(e,f,2),Zs(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[no]){for(let f of e[no])f();e[no]=null}i||(Cf(e),e[I]&=-73)}catch(u){throw i||nn(e),u}finally{l!==null&&(Dr(l,a),c&&ay(l)),lo()}}function _f(t,e){for(let n=md(t);n!==null;n=yd(n))for(let r=K;r<n.length;r++){let o=n[r];xf(o,e)}}function hy(t){for(let e=md(t);e!==null;e=yd(e)){if(!(e[I]&2))continue;let n=e[Mt];for(let r=0;r<n.length;r++){let o=n[r];Ms(o)}}}function gy(t,e,n){_(18);let r=Ne(e,t);xf(r,n),_(19,r[ee])}function xf(t,e){oo(t)&&ha(t,e)}function ha(t,e){let r=t[y],o=t[I],i=t[de],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&br(i)),s||=!1,i&&(i.dirty=!1),t[I]&=-9217,s)py(r,t,r.template,t[ee]);else if(o&8192){let c=w(null);try{Tf(t),_f(t,1);let a=r.components;a!==null&&Nf(t,a,1),Cf(t)}finally{w(c)}}}function Nf(t,e,n){for(let r=0;r<e.length;r++)gy(t,e[r],n)}function my(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)at(~o);else{let i=o,s=n[++r],c=n[++r];su(s,i);let a=e[i];_(24,a),c(2,a),_(25,a)}}}finally{at(-1)}}function Yo(t,e){let n=js()?64:1088;for(t[Ye].changeDetectionScheduler?.notify(e);t;){t[I]|=n;let r=tt(t);if(xt(t)&&!r)return t;t=r}return null}function yy(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Af(t,e,n,r=!0){let o=e[y];if(Ey(o,e,t,n),r){let s=fa(n,t),c=e[R],a=c.parentNode(t[Ue]);a!==null&&Nm(o,t[Ee],c,e,a,s)}let i=e[ue];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function vy(t,e){let n=Ro(t,e);return n!==void 0&&Ka(n[y],n),n}function Ro(t,e){if(t.length<=K)return;let n=K+e,r=t[n];if(r){let o=r[ot];o!==null&&o!==t&&Za(o,r),e>0&&(t[n-1][ve]=r[ve]);let i=An(t,K+e);xm(r[y],r);let s=i[Ve];s!==null&&s.detachView(i[y]),r[B]=null,r[ve]=null,r[I]&=-129}return r}function Ey(t,e,n,r){let o=K+r,i=n.length;r>0&&(n[o-1][ve]=e),r<i-K?(e[ve]=n[o],ms(n,K+r,e)):(n.push(e),e[ve]=null),e[B]=n;let s=e[ot];s!==null&&n!==s&&Rf(s,e);let c=e[Ve];c!==null&&c.insertView(t),io(e),e[I]|=128}function Rf(t,e){let n=t[Mt],r=e[B];if(De(r))t[I]|=2;else{let o=r[B][te];e[te]!==o&&(t[I]|=2)}n===null?t[Mt]=[e]:n.push(e)}var ct=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[y];return Zn(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[ee]}set context(e){this._lView[ee]=e}get destroyed(){return it(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[B];if(fe(e)){let n=e[Ln],r=n?n.indexOf(this):-1;r>-1&&(Ro(e,r),An(n,r))}this._attachedToViewContainer=!1}Ka(this._lView[y],this._lView)}onDestroy(e){_s(this._lView,e)}markForCheck(){Yo(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[I]&=-129}reattach(){io(this._lView),this._lView[I]|=128}detectChanges(){this._lView[I]|=1024,tc(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[_e].get(oy,Tu)}catch{this.exhaustive=Tu}}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=xt(this._lView),n=this._lView[ot];n!==null&&!e&&Za(n,this._lView),uf(this._lView[y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e;let n=xt(this._lView),r=this._lView[ot];r!==null&&!n&&Rf(r,this._lView),io(this._lView)}};var ln=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Dy;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=bf(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new ct(i)}}return t})();function Dy(){return nc(oe(),N())}function nc(t,e){return t.type&4?new ln(e,t,dn(t,e)):null}function rc(t,e,n,r,o){let i=t.data[e];if(i===null)i=by(t,e,n,r,o),iu()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=eu();i.injectorIndex=s===null?-1:s.injectorIndex}return Un(i,!0),i}function by(t,e,n,r,o){let i=ks(),s=Fs(),c=s?i:i&&i.parent,a=t.data[e]=Cy(t,c,n,e,r,o);return Iy(t,a,i,s),a}function Iy(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Cy(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,c=0;return Rs()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var wy=new RegExp(`^(\\d+)*(${bd}|${Dd})*(.*)`);function Sy(t){let e=t.match(wy),[n,r,o,i]=e,s=r?parseInt(r,10):o,c=[];for(let[a,l,u]of i.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;c.push(l,d)}return[s,...c]}function Ty(t){return!t.prev&&t.parent?.type===8}function Js(t){return t.index-L}function My(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Zo(t,e,n,r){let o=Js(r),i=My(t,o);if(i===void 0){let s=t.data[Sd];if(s?.[o])i=xy(s[o],n);else if(e.firstChild===r)i=t.firstChild;else{let c=r.prev===null,a=r.prev??r.parent;if(Ty(r)){let l=Js(r.parent);i=ca(t,l)}else{let l=be(a,n);if(c)i=l.firstChild;else{let u=Js(a),d=ca(t,u);if(a.type===2&&d){let f=Ha(t,u)+1;i=Ko(f,d)}else i=l.nextSibling}}}}return i}function Ko(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function _y(t,e){let n=t;for(let r=0;r<e.length;r+=2){let o=e[r],i=e[r+1];for(let s=0;s<i;s++)switch(o){case Kg:n=n.firstChild;break;case Qg:n=n.nextSibling;break}}return n}function xy(t,e){let[n,...r]=Sy(t),o;if(n===Dd)o=e[te][J];else if(n===bd)o=Qd(e[te][J]);else{let i=Number(n);o=pe(e[i+L])}return _y(o,r)}var Ny=!1;function Of(t){Ny=t}function Ay(t){let e=t[ue];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let o=t[R];for(let i of r.values())Ry(o,n,i)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function Ry(t,e,n){for(let r of n.node.cases[n.case]){let o=e.get(r.index-L);o&&Wa(t,o,!1)}}function oc(t){let e=t[xe]??[],r=t[B][R],o=[];for(let i of e)i.data[Td]!==void 0?o.push(i):Pf(i,r);t[xe]=o}function Oy(t){let{lContainer:e}=t,n=e[xe];if(n===null)return;let o=e[B][R];for(let i of n)Pf(i,o)}function Pf(t,e){let n=0,r=t.firstChild;if(r){let o=t.data[Yn];for(;n<o;){let i=r.nextSibling;Wa(e,r,!1),r=i,n++}}}function Qo(t){oc(t);let e=t[J];De(e)&&Oo(e);for(let n=K;n<t.length;n++)Oo(t[n])}function Oo(t){Ay(t);let e=t[y];for(let n=L;n<e.bindingStartIndex;n++)if(fe(t[n])){let r=t[n];Qo(r)}else De(t[n])&&Oo(t[n])}function ic(t){let e=t._views;for(let n of e){let r=Gd(n);r!==null&&r[J]!==null&&(De(r)?Oo(r):Qo(r))}}function Py(t,e,n,r){t!==null&&(n.cleanup(e),Qo(t.lContainer),ic(r))}function ky(t,e){let n=[];for(let r of e)for(let o=0;o<(r[ka]??1);o++){let i={data:r,firstChild:null};r[Yn]>0&&(i.firstChild=t,t=Ko(r[Yn],t)),n.push(i)}return[t,n]}var kf=()=>null,Fy=()=>null;function Ff(){kf=Ly,Fy=jy}function Ly(t,e){return Lf(t,e)?t[xe].shift():(oc(t),null)}function ga(t,e){return kf(t,e)}function jy(t,e,n){if(e.tView.ssrId===null)return null;let r=ga(t,e.tView.ssrId);return n[y].firstUpdatePass&&r===null&&By(n,e),r}function By(t,e){let n=e;for(;n;){if(Mu(t,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=e.next;n&&(n.flags&512)===512;){if(Mu(t,n))return;n=n.next}}function Lf(t,e){let n=t[xe];return!e||n===null||n.length===0?!1:n[0].data[wd]===e}function Mu(t,e){let n=e.tView?.ssrId;if(n==null)return!1;let r=t[e.index];return fe(r)&&Lf(r,n)?(oc(r),!0):!1}var jf=class{},Xo=class{},ma=class{resolveComponentFactory(e){throw new C(917,!1)}},Jo=class{static NULL=new ma},Ot=class{};var Bf=(()=>{class t{static \u0275prov=b({token:t,providedIn:"root",factory:()=>null})}return t})();var bo={},an=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let o=this.injector.get(e,bo,r);return o!==bo||n===bo?o:this.parentInjector.get(e,n,r)}};function Po(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")i=c;else if(i==1)o=as(o,c);else if(i==2){let a=c,l=e[++s];r=as(r,a+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}function j(t,e=0){let n=N();if(n===null)return m(t,e);let r=oe();return cd(r,n,ce(t),e)}function Vy(t,e,n,r,o){let i=r===null?null:{"":-1},s=o(t,n);if(s!==null){let c=s,a=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[c,a,l]=u.resolveHostDirectives(s);break}$y(t,e,n,c,i,a,l)}i!==null&&r!==null&&Uy(n,r,i)}function Uy(t,e,n){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new C(-301,!1);r.push(e[o],i)}}function Hy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $y(t,e,n,r,o,i,s){let c=r.length,a=!1;for(let p=0;p<c;p++){let f=r[p];!a&&_t(f)&&(a=!0,Hy(t,n,p)),Fg(od(n,e),t,f.type)}Zy(n,t.data.length,c);for(let p=0;p<c;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=af(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let p=0;p<c;p++){let f=r[p];if(n.mergedAttrs=Aa(n.mergedAttrs,f.hostAttrs),zy(t,n,e,d,f),Yy(d,f,o),s!==null&&s.has(f)){let[v,O]=s.get(f);n.directiveToIndex.set(f.type,[d,v+n.directiveStart,O+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let h=f.type.prototype;!l&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}Gy(t,n,i)}function Gy(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=t.data[r];if(n===null||!n.has(o))_u(0,e,o,r),_u(1,e,o,r),Nu(e,r,!1);else{let i=n.get(o);xu(0,e,i,r),xu(1,e,i,r),Nu(e,r,!0)}}}function _u(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(r),Vf(e,i)}}function xu(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,i),Vf(e,s)}}function Vf(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Nu(t,e,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=t;if(r===null||!n&&o===null||n&&i===null||Ga(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let a=r[c];if(a===0){c+=4;continue}else if(a===5){c+=2;continue}else if(typeof a=="number")break;if(!n&&o.hasOwnProperty(a)){let l=o[a];for(let u of l)if(u===e){s??=[],s.push(a,r[c+1]);break}}else if(n&&i.hasOwnProperty(a)){let l=i[a];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function zy(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=bt(o.type,!0)),s=new Wn(i,_t(o),j,null);t.blueprint[r]=s,n[r]=s,Wy(t,e,r,af(t,n,o.hostVars,Oe),o)}function Wy(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;qy(s)!=c&&s.push(c),s.push(n,r,i)}}function qy(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Yy(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;_t(e)&&(n[""]=t)}}function Zy(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Uf(t,e,n,r,o,i,s,c){let a=e[y],l=a.consts,u=jn(l,s),d=rc(a,t,n,r,u);return i&&Vy(a,e,d,jn(l,c),o),d.mergedAttrs=Aa(d.mergedAttrs,d.attrs),d.attrs!==null&&Po(d,d.attrs,!1),d.mergedAttrs!==null&&Po(d,d.mergedAttrs,!0),a.queries!==null&&a.queries.elementStart(a,d),d}function Hf(t,e){Sg(t,e),Cs(e)&&t.queries.elementEnd(e)}function Ky(t,e,n,r,o,i){let s=e.consts,c=jn(s,o),a=rc(e,t,n,r,c);if(a.mergedAttrs=Aa(a.mergedAttrs,a.attrs),i!=null){let l=jn(s,i);a.localNames=[];for(let u=0;u<l.length;u+=2)a.localNames.push(l[u],-1)}return a.attrs!==null&&Po(a,a.attrs,!1),a.mergedAttrs!==null&&Po(a,a.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,a),a}function Qy(t,e,n){return t[e]=n}function lt(t,e,n){if(n===Oe)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Xy(t,e,n,r){let o=lt(t,e,n);return lt(t,e+1,r)||o}function Io(t,e,n){return function r(o){let i=Ze(t)?Ne(t.index,e):e;Yo(i,5);let s=e[ee],c=Au(e,s,n,o),a=r.__ngNextListenerFn__;for(;a;)c=Au(e,s,a,o)&&c,a=a.__ngNextListenerFn__;return c}}function Au(t,e,n,r){let o=w(null);try{return _(6,e,n),n(r)!==!1}catch(i){return Xa(t,i),!1}finally{_(7,e,n),w(o)}}function $f(t,e,n,r,o,i,s,c){let a=ro(t),l=!1,u=null;if(!r&&a&&(u=Jy(e,n,i,t.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=be(t,n),p=r?r(d):d;Xg(n,p,i,c);let f=o.listen(p,i,c),h=r?v=>r(pe(v[t.index])):t.index;Gf(h,e,n,i,c,f,!1)}return l}function Jy(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let c=e[Xt],a=o[i+2];return c&&c.length>a?c[a]:null}typeof s=="string"&&(i+=2)}return null}function Gf(t,e,n,r,o,i,s){let c=e.firstCreatePass?Ns(e):null,a=xs(n),l=a.length;a.push(o,i),c&&c.push(r,t,l,(l+1)*(s?-1:1))}function Ru(t,e,n,r,o,i){let s=e[n],c=e[y],l=c.data[n].outputs[r],d=s[l].subscribe(i);Gf(t.index,c,e,o,i,d,!0)}var ya=Symbol("BINDING");var va=class extends Jo{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=rt(e);return new Kn(n,this.ngModule)}};function ev(t){return Object.keys(t).map(e=>{let[n,r,o]=t[e],i={propName:n,templateName:e,isSignal:(r&Wo.SignalBased)!==0};return o&&(i.transform=o),i})}function tv(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function nv(t,e,n){let r=e instanceof le?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new an(n,r):n}function rv(t){let e=t.get(Ot,null);if(e===null)throw new C(407,!1);let n=t.get(Bf,null),r=t.get(Be,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function ov(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return za(e,n,n==="svg"?$l:n==="math"?Gl:null)}var Kn=class extends Xo{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=ev(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=tv(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Dm(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,o,i,s){_(22);let c=w(null);try{let a=this.componentDef,l=iv(r,a,s,i),u=nv(a,o||this.ngModule,e),d=rv(u),p=d.rendererFactory.createRenderer(null,a),f=r?Hm(p,r,a.encapsulation,u):ov(a,p),h=s?.some(Ou)||i?.some(U=>typeof U!="function"&&U.bindings.some(Ou)),v=qa(null,l,null,512|sf(a),null,null,d,p,u,null,$d(f,u,!0));v[L]=f,co(v);let O=null;try{let U=Uf(L,v,2,"#host",()=>l.directiveRegistry,!0,0);f&&(rf(p,f,U),qn(f,v)),hf(l,v,U),Kd(l,U,v),Hf(l,U),n!==void 0&&av(U,this.ngContentSelectors,n),O=Ne(U.index,v),v[ee]=O[ee],ec(l,v,null)}catch(U){throw O!==null&&ia(O),ia(v),U}finally{_(23),lo()}return new ko(this.componentType,v,!!h)}finally{w(c)}}};function iv(t,e,n,r){let o=t?["ng-version","20.1.7"]:bm(e.selectors[0]),i=null,s=null,c=0;if(n)for(let u of n)c+=u[ya].requiredVars,u.create&&(u.targetIdx=0,(i??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let p of d.bindings){c+=p[ya].requiredVars;let f=u+1;p.create&&(p.targetIdx=f,(i??=[]).push(p)),p.update&&(p.targetIdx=f,(s??=[]).push(p))}}let a=[e];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,p=eo(d);a.push(p)}return of(0,null,sv(i,s),1,c,a,null,null,null,[o],null)}function sv(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function Ou(t){let e=t[ya].kind;return e==="input"||e==="twoWay"}var ko=class extends jf{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=tn(n[y],L),this.location=dn(this._tNode,n),this.instance=Ne(this._tNode.index,n)[ee],this.hostView=this.changeDetectorRef=new ct(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView,i=Ja(r,o[y],o,e,n);this.previousInputValues.set(e,n);let s=Ne(r.index,o);Yo(s,1)}get injector(){return new Rt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function av(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var or=(()=>{class t{static __NG_ELEMENT_ID__=cv}return t})();function cv(){let t=oe();return Wf(t,N())}var lv=or,zf=class extends lv{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return dn(this._hostTNode,this._hostLView)}get injector(){return new Rt(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ra(this._hostTNode,this._hostLView);if(td(e)){let n=To(e,this._hostLView),r=So(e),o=n[y].data[r+8];return new Rt(o,n)}else return new Rt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Pu(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-K}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=ga(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(c,o,pa(this._hostTNode,s)),c}createComponent(e,n,r,o,i,s,c){let a=e&&!Eg(e),l;if(a)l=n;else{let O=n||{};l=O.index,r=O.injector,o=O.projectableNodes,i=O.environmentInjector||O.ngModuleRef,s=O.directives,c=O.bindings}let u=a?e:new Kn(rt(e)),d=r||this.parentInjector;if(!i&&u.ngModule==null){let U=(a?d:this.parentInjector).get(le,null);U&&(i=U)}let p=rt(u.componentType??{}),f=ga(this._lContainer,p?.id??null),h=f?.firstChild??null,v=u.create(d,o,h,i,s,c);return this.insertImpl(v.hostView,l,pa(this._hostTNode,f)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(ql(o)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let a=o[B],l=new zf(a,a[Ee],a[B]);l.detach(l.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return Af(s,o,i,r),e.attachToViewContainerRef(),ms(ea(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Pu(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ro(this._lContainer,n);r&&(An(ea(this._lContainer),n),Ka(r[y],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ro(this._lContainer,n);return r&&An(ea(this._lContainer),n)!=null?new ct(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Pu(t){return t[Ln]}function ea(t){return t[Ln]||(t[Ln]=[])}function Wf(t,e){let n,r=e[t.index];return fe(r)?n=r:(n=yy(r,e,null,t),e[t.index]=n,cf(e,n)),qf(n,e,t,r),new zf(n,t,e)}function uv(t,e){let n=t[R],r=n.createComment(""),o=be(e,t),i=n.parentNode(o);return Ao(n,i,r,n.nextSibling(o),!1),r}var qf=Zf,Yf=()=>!1;function Zf(t,e,n,r){if(t[Ue])return;let o;n.type&8?o=pe(r):o=uv(e,n),t[Ue]=o}function dv(t,e,n){if(t[Ue]&&t[xe])return!0;let r=n[ue],o=e.index-L;if(!r||hd(e)||qd(r,o))return!1;let s=ca(r,o),c=r.data[Uo]?.[o],[a,l]=ky(s,c);return t[Ue]=a,t[xe]=l,!0}function fv(t,e,n,r){Yf(t,n,e)||Zf(t,e,n,r)}function Kf(){qf=fv,Yf=dv}var Ea=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Da=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),c=this.queries[s.indexInDeclarationView];o.push(c.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)sc(e,n).matches!==null&&this.queries[n].setDirty()}},ba=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Dv(e):this.predicate=e}},Ia=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ca=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,n,pv(n,i)),this.matchTNodeWithReadOption(e,n,Eo(n,e,i,!1,!1))}else r===ln?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Eo(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===fn||o===or||o===ln&&n.type&4)this.addMatch(n.index,-2);else{let i=Eo(n,e,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function pv(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function hv(t,e){return t.type&11?dn(t,e):t.type&4?nc(t,e):null}function gv(t,e,n,r){return n===-1?hv(e,t):n===-2?mv(t,e,r):_o(t,t[y],n,e)}function mv(t,e,n){if(n===fn)return dn(e,t);if(n===ln)return nc(e,t);if(n===or)return Wf(e,t)}function Qf(t,e,n,r){let o=e[Ve].queries[r];if(o.matches===null){let i=t.data,s=n.matches,c=[];for(let a=0;s!==null&&a<s.length;a+=2){let l=s[a];if(l<0)c.push(null);else{let u=i[l];c.push(gv(e,u,s[a+1],n.metadata.read))}}o.matches=c}return o.matches}function wa(t,e,n,r){let o=t.queries.getByIndex(n),i=o.matches;if(i!==null){let s=Qf(t,e,o,n);for(let c=0;c<i.length;c+=2){let a=i[c];if(a>0)r.push(s[c/2]);else{let l=i[c+1],u=e[-a];for(let d=K;d<u.length;d++){let p=u[d];p[ot]===p[B]&&wa(p[y],p,l,r)}if(u[Mt]!==null){let d=u[Mt];for(let p=0;p<d.length;p++){let f=d[p];wa(f[y],f,l,r)}}}}}return r}function yv(t,e){return t[Ve].queries[e].queryList}function vv(t,e,n){let r=new xo((n&4)===4);return Zl(t,e,r,r.destroy),(e[Ve]??=new Da).queries.push(new Ea(r))-1}function Ev(t,e,n){let r=he();return r.firstCreatePass&&(bv(r,new ba(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),vv(r,N(),e)}function Dv(t){return t.split(",").map(e=>e.trim())}function bv(t,e,n){t.queries===null&&(t.queries=new Ia),t.queries.track(new Ca(e,n))}function sc(t,e){return t.queries.getByIndex(e)}function Iv(t,e){let n=t[y],r=sc(n,e);return r.crossesNgTemplate?wa(n,t,e,[]):Qf(n,t,r,e)}var ku=new Set;function ut(t){ku.has(t)||(ku.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Qn=class{};var Xn=class extends Qn{injector;componentFactoryResolver=new va(this);instance=null;constructor(e){super();let n=new It([...e.providers,{provide:Qn,useValue:this},{provide:Jo,useValue:this.componentFactoryResolver}],e.parent||On(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ac(t,e,n=null){return new Xn({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Cv=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=to(!1,n.type),o=r.length>0?ac([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=b({token:t,providedIn:"environment",factory:()=>new t(m(le))})}return t})();function Je(t){return Na(()=>{let e=Mv(t),n=Z(M({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Oa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(Cv).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Xe.Emulated,styles:t.styles||ye,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&ut("NgStandalone"),_v(n);let r=t.dependencies;return n.directiveDefs=Fu(r,wv),n.pipeDefs=Fu(r,Es),n.id=xv(n),n})}function wv(t){return rt(t)||eo(t)}function ei(t){return Na(()=>({type:t.type,bootstrap:t.bootstrap||ye,declarations:t.declarations||ye,imports:t.imports||ye,exports:t.exports||ye,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Sv(t,e){if(t==null)return wt;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,c,a;Array.isArray(o)?(c=o[0],i=o[1],s=o[2]??i,a=o[3]||null):(i=o,s=o,c=Wo.None,a=null),n[i]=[r,c,a],e[i]=s}return n}function Tv(t){if(t==null)return wt;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function cc(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||wt,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ye,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Sv(t.inputs,e),outputs:Tv(t.outputs),debugInfo:null}}function _v(t){t.features?.forEach(e=>e(t))}function Fu(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let o of n){let i=e(o);i!==null&&r.push(i)}return r}:null}function xv(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Nv=Xf;function Xf(t,e,n,r){return Ke(!0),e[R].createComment("")}function Av(t,e,n,r){let o=!zo(e,n);Ke(o);let i=e[ue]?.data[Cd]?.[r]??null;if(i!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=i),o)return Xf(t,e);let s=e[ue],c=Zo(s,t,e,n);Go(s,r,c);let a=Ha(s,r);return Ko(a,c)}function Jf(){Nv=Av}var me=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(me||{}),Lu=0,Rv=1,H=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(H||{});var Ov=0,ir=1;var Pv=4,kv=5;var Fv=7,cn=8,Lv=9,lc=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(lc||{});function Co(t,e){let n=Bv(t),r=e[n];if(r!==null){for(let o of r)o();e[n]=null}}function jv(t){Co(1,t),Co(0,t),Co(2,t)}function Bv(t){let e=Pv;return t===1?e=kv:t===2&&(e=Lv),e}var ti=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(ti||{}),Ft=new D(""),ep=!1,Sa=class extends Fe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Ul()&&(this.destroyRef=g(Nt,{optional:!0})??void 0,this.pendingTasks=g(Qe,{optional:!0})??void 0)}emit(e){let n=w(null);try{super.next(e)}finally{w(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let a=e;o=a.next?.bind(a),i=a.error?.bind(a),s=a.complete?.bind(a)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:o,error:i,complete:s});return e instanceof Q&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Re=Sa;function tp(t){let e,n;function r(){t=$n;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function ju(t){return queueMicrotask(()=>t()),()=>{t=$n}}var uc="isAngularZone",Fo=uc+"_ID",Vv=0,k=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Re(!1);onMicrotaskEmpty=new Re(!1);onStable=new Re(!1);onError=new Re(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=ep}=e;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,$v(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(uc)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,Uv,$n,$n);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Uv={};function dc(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Hv(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){tp(()=>{t.callbackScheduled=!1,Ta(t),t.isCheckStableRunning=!0,dc(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ta(t)}function $v(t){let e=()=>{Hv(t)},n=Vv++;t._inner=t._inner.fork({name:"angular",properties:{[uc]:!0,[Fo]:n,[Fo+n]:!0},onInvokeTask:(r,o,i,s,c,a)=>{if(Gv(a))return r.invokeTask(i,s,c,a);try{return Bu(t),r.invokeTask(i,s,c,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Vu(t)}},onInvoke:(r,o,i,s,c,a,l)=>{try{return Bu(t),r.invoke(i,s,c,a,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!zv(a)&&e(),Vu(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ta(t),dc(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ta(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Bu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Vu(t){t._nesting--,dc(t)}var Jn=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Re;onMicrotaskEmpty=new Re;onStable=new Re;onError=new Re;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}};function Gv(t){return np(t,"__ignore_ng_zone__")}function zv(t){return np(t,"__scheduler_tick__")}function np(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var fc=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=b({token:t,providedIn:"root",factory:()=>new t})}return t})(),rp=[0,1,2,3],op=(()=>{class t{ngZone=g(k);scheduler=g(Be);errorHandler=g(Te,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){g(Ft,{optional:!0})}execute(){let n=this.sequences.size>0;n&&_(16),this.executing=!0;for(let r of rp)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&_(17)}register(n){let{view:r}=n;r!==void 0?((r[Tt]??=[]).push(n),nn(r),r[I]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(ti.AFTER_NEXT_RENDER,n):n()}static \u0275prov=b({token:t,providedIn:"root",factory:()=>new t})}return t})(),Lo=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,o,i,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Tt];e&&(this.view[Tt]=e.filter(n=>n!==this))}};function ip(t,e){let n=e?.injector??g(je);return ut("NgAfterNextRender"),qv(t,n,e,!0)}function Wv(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function qv(t,e,n,r){let o=e.get(fc);o.impl??=e.get(op);let i=e.get(Ft,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Nt):null,c=e.get(po,null,{optional:!0}),a=new Lo(o.impl,Wv(t),c?.view,r,s,i?.snapshot(null));return o.impl.register(a),a}function sp(t){return t+1}function pn(t,e){let n=t[y],r=sp(e.index);return t[r]}function sr(t,e){let n=sp(e.index);return t.data[n]}function Yv(t,e,n){let r=e[y],o=sr(r,n);switch(t){case H.Complete:return o.primaryTmplIndex;case H.Loading:return o.loadingTmplIndex;case H.Error:return o.errorTmplIndex;case H.Placeholder:return o.placeholderTmplIndex;default:return null}}function Uu(t,e){return e===H.Placeholder?t.placeholderBlockConfig?.[Lu]??null:e===H.Loading?t.loadingBlockConfig?.[Lu]??null:null}function Zv(t){return t.loadingBlockConfig?.[Rv]??null}function Hu(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function Kv(t,e){let n=e.primaryTmplIndex+L;return tn(t,n)}var Qv=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,o,i){if(!this.cachedInjectors.has(n)){let s=o.length>0?ac(o,r,i):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=b({token:t,providedIn:"environment",factory:()=>new t})}return t})();var ap=new D("");function ta(t,e,n){return t.get(Qv).getOrCreateInjector(e,t,n,"")}function Xv(t,e,n){if(t instanceof an){let o=t.injector,i=t.parentInjector,s=ta(i,e,n);return new an(o,s)}let r=t.get(le);if(r!==t){let o=ta(r,e,n);return new an(t,o)}return ta(t,e,n)}function At(t,e,n,r=!1){let o=n[B],i=o[y];if(it(o))return;let s=pn(o,e),c=s[ir],a=s[Fv];if(!(a!==null&&t<a)&&$u(c,t)&&$u(s[Ov]??-1,t)){let l=sr(i,e),d=!r&&!0&&(Zv(l)!==null||Uu(l,H.Loading)!==null||Uu(l,H.Placeholder))?tE:eE;try{d(t,s,n,e,o)}catch(p){Xa(o,p)}}}function Jv(t,e){let n=t[xe]?.findIndex(o=>o.data[Md]===e[ir])??-1;return{dehydratedView:n>-1?t[xe][n]:null,dehydratedViewIx:n}}function eE(t,e,n,r,o){_(20);let i=Yv(t,o,r);if(i!==null){e[ir]=t;let s=o[y],c=i+L,a=tn(s,c),l=0;vy(n,l);let u;if(t===H.Complete){let h=sr(s,r),v=h.providers;v&&v.length>0&&(u=Xv(o[_e],h,v))}let{dehydratedView:d,dehydratedViewIx:p}=Jv(n,e),f=bf(o,a,null,{injector:u,dehydratedView:d});if(Af(n,f,l,pa(a,d)),Yo(f,2),p>-1&&n[xe]?.splice(p,1),(t===H.Complete||t===H.Error)&&Array.isArray(e[cn])){for(let h of e[cn])h();e[cn]=null}}_(21)}function $u(t,e){return t<e}function Gu(t,e,n){t.loadingPromise.then(()=>{t.loadingState===me.COMPLETE?At(H.Complete,e,n):t.loadingState===me.FAILED&&At(H.Error,e,n)})}var tE=null;var pc=new D("");function ar(t){return!!t&&typeof t.then=="function"}function ni(t){return!!t&&typeof t.subscribe=="function"}var cp=new D("");var hc=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=g(cp,{optional:!0})??[];injector=g(je);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Pn(this.injector,o);if(ar(i))n.push(i);else if(ni(i)){let s=new Promise((c,a)=>{i.subscribe({complete:c,error:a})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hn=new D("");function lp(){Li(()=>{let t="";throw new C(600,t)})}function up(t){return t.isBoundToModule}var nE=10;var Ce=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=g(Ie);afterRenderManager=g(fc);zonelessEnabled=g(rn);rootEffectScheduler=g(Ys);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Fe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=g(Qe);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(qi(n=>!n))}constructor(){g(Ft,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=g(le);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=je.NULL){return this._injector.get(k).run(()=>{_(10);let s=n instanceof Xo;if(!this._injector.get(hc).done){let h="";throw new C(405,h)}let a;s?a=n:a=this._injector.get(Jo).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=up(a)?void 0:this._injector.get(Qn),u=r||a.selector,d=a.create(o,[],u,l),p=d.location.nativeElement,f=d.injector.get(pc,null);return f?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),zn(this.components,d),f?.unregisterApplication(p)}),this._loadComponent(d),_(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){_(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ti.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new C(101,!1);let n=w(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,w(n),this.afterTick.next(),_(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ot,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<nE;)_(14),this.synchronizeOnce(),_(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Bn(o))continue;let i=r&&!this.zonelessEnabled?0:1;tc(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Bn(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;zn(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(hn,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>zn(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zn(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function dp(t,e,n){let r=e[_e],o=e[y];if(t.loadingState!==me.NOT_STARTED)return t.loadingPromise??Promise.resolve();let i=pn(e,n),s=Kv(o,t);t.loadingState=me.IN_PROGRESS,Co(1,i);let c=t.dependencyResolverFn,a=r.get(ho).add();return c?(t.loadingPromise=Promise.allSettled(c()).then(l=>{let u=!1,d=[],p=[];for(let f of l)if(f.status==="fulfilled"){let h=f.value,v=rt(h)||eo(h);if(v)d.push(v);else{let O=Es(h);O&&p.push(O)}}else{u=!0;break}if(u){if(t.loadingState=me.FAILED,t.errorTmplIndex===null){let f="",h=new C(-750,!1);Xa(e,h)}}else{t.loadingState=me.COMPLETE;let f=s.tView;if(d.length>0){f.directiveRegistry=Hu(f.directiveRegistry,d);let h=d.map(O=>O.type),v=to(!1,...h);t.providers=v}p.length>0&&(f.pipeRegistry=Hu(f.pipeRegistry,p))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,a()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=me.COMPLETE,a()}),t.loadingPromise)}function rE(t,e){return e[_e].get(ap,null,{optional:!0})?.behavior!==lc.Manual}function oE(t,e,n){let r=e[y],o=e[n.index];if(!rE(t,e))return;let i=pn(e,n),s=sr(r,n);switch(jv(i),s.loadingState){case me.NOT_STARTED:At(H.Loading,n,o),dp(s,e,n),s.loadingState===me.IN_PROGRESS&&Gu(s,n,o);break;case me.IN_PROGRESS:At(H.Loading,n,o),Gu(s,n,o);break;case me.COMPLETE:At(H.Complete,n,o);break;case me.FAILED:At(H.Error,n,o);break;default:}}async function fp(t,e,n){let r=t.get(Ho);if(r.hydrating.has(e))return;let{parentBlockPromise:i,hydrationQueue:s}=sm(e,t);if(s.length===0)return;i!==null&&s.shift(),aE(r,s),i!==null&&await i;let c=s[0];r.has(c)?await zu(t,s,n):r.awaitParentBlock(c,async()=>await zu(t,s,n))}async function zu(t,e,n){let r=t.get(Ho),o=r.hydrating,i=t.get(Qe),s=i.add();for(let a=0;a<e.length;a++){let l=e[a],u=r.get(l);if(u!=null){if(await lE(u),await cE(t),iE(u)){Oy(u),Wu(e.slice(a),r);break}o.get(l).resolve()}else{sE(a,e,r),Wu(e.slice(a),r);break}}let c=e[e.length-1];await o.get(c)?.promise,i.remove(s),n&&n(e),Py(r.get(c),e,r,t.get(Ce))}function iE(t){return pn(t.lView,t.tNode)[ir]===H.Error}function sE(t,e,n){let r=t-1,o=r>-1?n.get(e[r]):null;o&&Qo(o.lContainer)}function Wu(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function aE(t,e){for(let n of e)t.hydrating.set(n,Promise.withResolvers())}function cE(t){return new Promise(e=>ip(e,{injector:t}))}async function lE(t){let{tNode:e,lView:n}=t,r=pn(n,e);return new Promise(o=>{uE(r,o),oE(2,n,e)})}function uE(t,e){Array.isArray(t[cn])||(t[cn]=[]),t[cn].push(e)}function ri(t,e,n,r){let o=N(),i=Hn();if(lt(o,i,e)){let s=he(),c=uo();Xm(c,o,t,e,n,r)}return ri}function Lt(t,e,n){let r=N(),o=Hn();if(lt(r,o,e)){let i=he(),s=uo();Wm(s,r,t,e,r[R],n)}return Lt}function qu(t,e,n,r,o){Ja(e,t,n,o?"class":"style",r)}function F(t,e,n,r){let o=N(),i=o[y],s=t+L,c=i.firstCreatePass?Uf(s,o,2,e,Qm,Xl(),n,r):i.data[s];if(Ef(c,o,t,e,gc),ro(c)){let a=o[y];hf(a,o,c),Kd(a,c,o)}return r!=null&&gf(o,c),F}function $(){let t=he(),e=oe(),n=Df(e);return t.firstCreatePass&&Hf(t,n),Os(n)&&Ps(),As(),n.classesWithoutHost!=null&&Mg(n)&&qu(t,n,N(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&_g(n)&&qu(t,n,N(),n.stylesWithoutHost,!1),$}function jt(t,e,n,r){return F(t,e,n,r),$(),jt}function P(t,e,n,r){let o=N(),i=o[y],s=t+L,c=i.firstCreatePass?Ky(s,i,2,e,n,r):i.data[s];return Ef(c,o,t,e,gc),r!=null&&gf(o,c),P}function z(){let t=oe(),e=Df(t);return Os(e)&&Ps(),As(),z}var gc=(t,e,n,r,o)=>(Ke(!0),za(e[R],r,Gs()));function dE(t,e,n,r,o){let i=!zo(e,n);if(Ke(i),i)return za(e[R],r,Gs());let s=e[ue],c=Zo(s,t,e,n);return Wd(s,o)&&Go(s,o,c.nextSibling),s&&(fd(n)||pd(c))&&Ze(n)&&(Jl(n),nf(c)),c}function pp(){gc=dE}var fE=(t,e,n,r,o)=>(Ke(!0),ef(e[R],""));function pE(t,e,n,r,o){let i,s=!zo(e,n);if(Ke(s),s)return ef(e[R],"");let c=e[ue],a=Zo(c,t,e,n),l=om(c,o);return Go(c,o,a),i=Ko(l,a),i}function hp(){fE=pE}function mc(){return N()}function gn(t,e,n){let r=N(),o=Hn();if(lt(r,o,e)){let i=he(),s=uo();vf(s,r,t,e,r[R],n)}return gn}var cr="en-US";var hE=cr;function gp(t){typeof t=="string"&&(hE=t.toLowerCase().replace(/_/g,"-"))}function ie(t,e,n){let r=N(),o=he(),i=oe();return gE(o,r,r[R],i,t,e,n),ie}function Pe(t,e,n){let r=N(),o=he(),i=oe();return(i.type&3||n)&&$f(i,o,r,n,r[R],t,e,Io(i,r,e)),Pe}function gE(t,e,n,r,o,i,s){let c=!0,a=null;if((r.type&3||s)&&(a??=Io(r,e,i),$f(r,t,e,s,n,o,i,a)&&(c=!1)),c){let l=r.outputs?.[o],u=r.hostDirectiveOutputs?.[o];if(u&&u.length)for(let d=0;d<u.length;d+=2){let p=u[d],f=u[d+1];a??=Io(r,e,i),Ru(r,e,p,f,o,a)}if(l&&l.length)for(let d of l)a??=Io(r,e,i),Ru(r,e,d,o,o,a)}}function yc(t,e,n){Ev(t,e,n)}function vc(t){let e=N(),n=he(),r=Us();ao(r+1);let o=sc(n,r);if(t.dirty&&Wl(e)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let i=Iv(e,r);t.reset(i,Hg),t.notifyOnChanges()}return!0}return!1}function Ec(){return yv(N(),Us())}function mo(t,e){return t<<17|e<<2}function Pt(t){return t>>17&32767}function mE(t){return(t&2)==2}function yE(t,e){return t&131071|e<<17}function Ma(t){return t|2}function un(t){return(t&131068)>>2}function na(t,e){return t&-131069|e<<2}function vE(t){return(t&1)===1}function _a(t){return t|1}function EE(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,c=Pt(s),a=un(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Qt(d,u)>0)&&(l=!0)}else u=n;if(o)if(a!==0){let p=Pt(t[c+1]);t[r+1]=mo(p,c),p!==0&&(t[p+1]=na(t[p+1],r)),t[c+1]=yE(t[c+1],r)}else t[r+1]=mo(c,0),c!==0&&(t[c+1]=na(t[c+1],r)),c=r;else t[r+1]=mo(a,0),c===0?c=r:t[a+1]=na(t[a+1],r),a=r;l&&(t[r+1]=Ma(t[r+1])),Yu(t,u,r,!0),Yu(t,u,r,!1),DE(e,u,t,r,i),s=mo(c,a),i?e.classBindings=s:e.styleBindings=s}function DE(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&Qt(i,e)>=0&&(n[r+1]=_a(n[r+1]))}function Yu(t,e,n,r){let o=t[n+1],i=e===null,s=r?Pt(o):un(o),c=!1;for(;s!==0&&(c===!1||i);){let a=t[s],l=t[s+1];bE(a,e)&&(c=!0,t[s+1]=r?_a(l):Ma(l)),s=r?Pt(l):un(l)}c&&(t[n+1]=r?Ma(o):_a(o))}function bE(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Qt(t,e)>=0:!1}function we(t,e){return IE(t,e,null,!0),we}function IE(t,e,n,r){let o=N(),i=he(),s=Vs(2);if(i.firstUpdatePass&&wE(i,t,s,r),e!==Oe&&lt(o,s,e)){let c=i.data[st()];xE(i,c,o,o[R],t,o[s+1]=NE(e,n),r,s)}}function CE(t,e){return e>=t.expandoStartIndex}function wE(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[st()],s=CE(t,n);AE(i,r)&&e===null&&!s&&(e=!1),e=SE(o,i,e,r),EE(o,i,e,n,s,r)}}function SE(t,e,n,r){let o=cu(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=ra(null,t,e,n,r),n=er(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=ra(o,t,e,n,r),i===null){let a=TE(t,e,r);a!==void 0&&Array.isArray(a)&&(a=ra(null,t,e,a[1],r),a=er(a,e.attrs,r),ME(t,e,r,a))}else i=_E(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function TE(t,e,n){let r=n?e.classBindings:e.styleBindings;if(un(r)!==0)return t[Pt(r)]}function ME(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[Pt(o)]=r}function _E(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=er(r,s,n)}return er(r,e.attrs,n)}function ra(t,e,n,r,o){let i=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(i=e[c],r=er(r,i.hostAttrs,o),i!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function er(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),kl(t,s,n?!0:e[++i]))}return t===void 0?null:t}function xE(t,e,n,r,o,i,s,c){if(!(e.type&3))return;let a=t.data,l=a[c+1],u=vE(l)?Zu(a,e,n,o,un(l),s):void 0;if(!jo(u)){jo(i)||mE(l)&&(i=Zu(a,null,n,o,c,s));let d=ws(st(),n);Um(r,s,d,o,i)}}function Zu(t,e,n,r,o,i){let s=e===null,c;for(;o>0;){let a=t[o],l=Array.isArray(a),u=l?a[1]:a,d=u===null,p=n[o+1];p===Oe&&(p=d?ye:void 0);let f=d?Jr(p,r):u===r?p:void 0;if(l&&!jo(f)&&(f=Jr(a,r)),jo(f)&&(c=f,s))return c;let h=t[o+1];o=s?Pt(h):un(h)}if(e!==null){let a=i?e.residualClasses:e.residualStyles;a!=null&&(c=Jr(a,r))}return c}function jo(t){return t!==void 0}function NE(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=et($a(t)))),t}function AE(t,e){return(t.flags&(e?8:16))!==0}function T(t,e=""){let n=N(),r=he(),o=t+L,i=r.firstCreatePass?rc(r,o,1,e,null):r.data[o],s=mp(r,n,i,e,t);n[o]=s,zs()&&df(r,n,s,i),Un(i,!1)}var mp=(t,e,n,r,o)=>(Ke(!0),Jd(e[R],r));function RE(t,e,n,r,o){let i=!zo(e,n);if(Ke(i),i)return Jd(e[R],r);let s=e[ue];return Zo(s,t,e,n)}function yp(){mp=RE}function OE(t,e,n,r=""){return lt(t,Hn(),n)?e+Kt(n)+r:Oe}function PE(t,e,n,r,o,i=""){let s=ru(),c=Xy(t,s,n,o);return Vs(2),c?e+Kt(n)+r+Kt(o)+i:Oe}function Bt(t){return Vt("",t),Bt}function Vt(t,e,n){let r=N(),o=OE(r,t,e,n);return o!==Oe&&vp(r,st(),o),Vt}function oi(t,e,n,r,o){let i=N(),s=PE(i,t,e,n,r,o);return s!==Oe&&vp(i,st(),s),oi}function vp(t,e,n){let r=ws(e,t);Im(t[R],r,n)}function kE(t,e){let n=t[e];return n===Oe?void 0:n}function FE(t,e,n,r,o,i){let s=e+n;return lt(t,s,o)?Qy(t,s+1,i?r.call(i,o):r(o)):kE(t,s+1)}function ii(t,e){let n=he(),r,o=t+L;n.firstCreatePass?(r=LE(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=bt(r.type,!0)),s,c=X(j);try{let a=Mo(!1),l=i();return Mo(a),Ss(n,N(),o,l),l}finally{X(c)}}function LE(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function si(t,e,n){let r=t+L,o=N(),i=zl(o,r);return jE(o,r)?FE(o,nu(),e,i.transform,n,i):i.transform(n)}function jE(t,e){return t[y].data[e].pure}var BE=(()=>{class t{zone=g(k);changeDetectionScheduler=g(Be);applicationRef=g(Ce);applicationErrorHandler=g(Ie);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ep({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new k(Z(M({},Dp()),{scheduleInRootZone:n})),[{provide:k,useFactory:t},{provide:Me,multi:!0,useFactory:()=>{let r=g(BE,{optional:!0});return()=>r.initialize()}},{provide:Me,multi:!0,useFactory:()=>{let r=g(VE);return()=>{r.initialize()}}},e===!0?{provide:qs,useValue:!0}:[],{provide:fo,useValue:n??ep},{provide:Ie,useFactory:()=>{let r=g(k),o=g(le),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(Te),i.handleError(s))})}}}]}function Dp(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VE=(()=>{class t{subscription=new Q;initialized=!1;zone=g(k);pendingTasks=g(Qe);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{k.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{k.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Dc=(()=>{class t{applicationErrorHandler=g(Ie);appRef=g(Ce);taskService=g(Qe);ngZone=g(k);zonelessEnabled=g(rn);tracing=g(Ft,{optional:!0});disableScheduling=g(qs,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Q;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Fo):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(fo,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jn||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?ju:tp;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Fo+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ju(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bc(){return ut("NgZoneless"),qe([{provide:Be,useExisting:Dc},{provide:k,useClass:Jn},{provide:rn,useValue:!0},{provide:fo,useValue:!1},[]])}function UE(){return typeof $localize<"u"&&$localize.locale||cr}var ai=new D("",{providedIn:"root",factory:()=>g(ai,{optional:!0,skipSelf:!0})||UE()});function ci(t){return Cl(t)}var bp=class{[ht];constructor(e){this[ht]=e}destroy(){this[ht].destroy()}};var Tc={JSACTION:"__jsaction",OWNER:"__owner"},Sp={};function HE(t){return t[Tc.JSACTION]}function Ip(t,e){t[Tc.JSACTION]=e}function $E(t){return Sp[t]}function GE(t,e){Sp[t]=e}var E={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},zE=[E.MOUSEENTER,E.MOUSELEAVE,"pointerenter","pointerleave"],rM=[E.CLICK,E.DBLCLICK,E.FOCUSIN,E.FOCUSOUT,E.KEYDOWN,E.KEYUP,E.KEYPRESS,E.MOUSEOVER,E.MOUSEOUT,E.SUBMIT,E.TOUCHSTART,E.TOUCHEND,E.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],WE=[E.FOCUS,E.BLUR,E.ERROR,E.LOAD,E.TOGGLE],Mc=t=>WE.indexOf(t)>=0;function qE(t){return t===E.MOUSEENTER?E.MOUSEOVER:t===E.MOUSELEAVE?E.MOUSEOUT:t===E.POINTERENTER?E.POINTEROVER:t===E.POINTERLEAVE?E.POINTEROUT:t}function YE(t,e,n,r){let o=!1;Mc(e)&&(o=!0);let i=typeof r=="boolean"?{capture:o,passive:r}:o;return t.addEventListener(e,n,i),{eventType:e,handler:n,capture:o,passive:r}}function ZE(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function KE(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var Cp=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function QE(t){return t.which===2||t.which==null&&t.button===4}function XE(t){return Cp&&t.metaKey||!Cp&&t.ctrlKey||QE(t)||t.shiftKey}function JE(t,e,n){let r=t.relatedTarget;return(t.type===E.MOUSEOVER&&e===E.MOUSEENTER||t.type===E.MOUSEOUT&&e===E.MOUSELEAVE||t.type===E.POINTEROVER&&e===E.POINTERENTER||t.type===E.POINTEROUT&&e===E.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function eD(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let o=r,i=t[o];typeof i!="function"&&(n[o]=i)}return t.type===E.MOUSEOVER?n.type=E.MOUSEENTER:t.type===E.MOUSEOUT?n.type=E.MOUSELEAVE:t.type===E.POINTEROVER?n.type=E.POINTERENTER:n.type=E.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var tD=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),fi=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){tD&&(this.element.style.cursor="pointer"),this.handlerInfos.push(YE(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)ZE(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},nD={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function dt(t){return t.eventType}function _c(t,e){t.eventType=e}function ui(t){return t.event}function Tp(t,e){t.event=e}function Mp(t){return t.targetElement}function _p(t,e){t.targetElement=e}function xp(t){return t.eic}function rD(t,e){t.eic=e}function oD(t){return t.timeStamp}function iD(t,e){t.timeStamp=e}function di(t){return t.eia}function Np(t,e,n){t.eia=[e,n]}function Ic(t){t.eia=void 0}function li(t){return t[1]}function sD(t){return t.eirp}function Ap(t,e){t.eirp=e}function Rp(t){return t.eir}function Op(t,e){t.eir=e}function Pp(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function aD(t,e,n,r,o,i,s,c){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:o,eia:i,eirp:s,eiack:c}}var Cc=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return dt(this.eventInfo)}setEventType(e){_c(this.eventInfo,e)}getEvent(){return ui(this.eventInfo)}setEvent(e){Tp(this.eventInfo,e)}getTargetElement(){return Mp(this.eventInfo)}setTargetElement(e){_p(this.eventInfo,e)}getContainer(){return xp(this.eventInfo)}setContainer(e){rD(this.eventInfo,e)}getTimestamp(){return oD(this.eventInfo)}setTimestamp(e){iD(this.eventInfo,e)}getAction(){let e=di(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){Ic(this.eventInfo);return}Np(this.eventInfo,e.name,e.element)}getIsReplay(){return sD(this.eventInfo)}setIsReplay(e){Ap(this.eventInfo,e)}getResolved(){return Rp(this.eventInfo)}setResolved(e){Op(this.eventInfo,e)}clone(){return new t(Pp(this.eventInfo))}},cD={},lD=/\s*;\s*/,uD=E.CLICK,wc=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&dt(e)===E.CLICK&&XE(ui(e))?_c(e,E.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){Rp(e)||(this.populateAction(e,Mp(e)),Op(e,!0))}resolveParentAction(e){let n=di(e),r=n&&li(n);Ic(e);let o=r&&this.getParentNode(r);o&&this.populateAction(e,o)}populateAction(e,n){let r=n;for(;r&&r!==xp(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!di(e));)r=this.getParentNode(r);let o=di(e);if(o&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(dt(e)===E.MOUSEENTER||dt(e)===E.MOUSELEAVE||dt(e)===E.POINTERENTER||dt(e)===E.POINTERLEAVE)))if(JE(ui(e),dt(e),li(o))){let i=eD(ui(e),li(o));Tp(e,i),_p(e,li(o))}else Ic(e)}getParentNode(e){let n=e[Tc.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),o=r[dt(n)];o!==void 0&&Np(n,o,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=HE(e);if(!n){let r=e.getAttribute(go.JSACTION);if(!r)n=cD,Ip(e,n);else{if(n=$E(r),!n){n={};let o=r.split(lD);for(let i=0;i<o.length;i++){let s=o[i];if(!s)continue;let c=s.indexOf(nD.EVENT_ACTION_SEPARATOR),a=c!==-1,l=a?s.substr(0,c).trim():uD,u=a?s.substr(c+1).trim():s;n[l]=u}GE(r,n)}Ip(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},kp=function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t}(kp||{}),Sc=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new Cc(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&dD(r.element,n)&&KE(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function dD(t,e){return t.tagName==="A"&&(e.getEventType()===E.CLICK||e.getEventType()===E.CLICKMOD)}var Fp=Symbol.for("propagationStopped"),xc={REPLAY:101};var fD="`preventDefault` called during event replay.";var pD="`composedPath` called during event replay.",pi=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new wc({clickModSupport:n}),this.dispatcher=new Sc(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&mD(e),hD(e);e.getAction();){if(yD(e),Mc(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),gD(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function hD(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[Fp]=!0,n()};Ut(e,"stopPropagation",r),Ut(e,"stopImmediatePropagation",r)}function gD(t){return!!t.getEvent()[Fp]}function mD(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);Ut(e,"target",n),Ut(e,"eventPhase",xc.REPLAY),Ut(e,"preventDefault",()=>{throw r(),new Error(fD+"")}),Ut(e,"composedPath",()=>{throw new Error(pD+"")})}function yD(t){let e=t.getEvent(),n=t.getAction()?.element;n&&Ut(e,"currentTarget",n,{configurable:!0})}function Ut(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function Lp(t,e){t.ecrd(n=>{e.dispatch(n)},kp.I_AM_THE_JSACTION_FRAMEWORK)}function vD(t){return t?.q??[]}function ED(t){t&&(wp(t.c,t.et,t.h),wp(t.c,t.etc,t.h,!0))}function wp(t,e,n,r){for(let o=0;o<e.length;o++)t.removeEventListener(e[o],n,r)}var DD=!1,jp=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=DD;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,o){let i=aD(n,r,r.target,o,Date.now());this.handleEventInfo(i)}handleEventInfo(n){if(!this.dispatcher){Ap(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,o){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&zE.indexOf(n)>=0)return;let i=(c,a,l)=>{this.handleEvent(c,a,l)};this.eventHandlers[n]=i;let s=qE(r||n);if(s!==n){let c=this.browserEventTypeToExtraEventTypes[s]||[];c.push(n),this.browserEventTypeToExtraEventTypes[s]=c}this.containerManager.addEventListener(s,c=>a=>{i(n,a,c)},o)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),ED(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let o=n[r],i=this.getEventTypesForBrowserEventType(o.eventType);for(let s=0;s<i.length;s++){let c=Pp(o);_c(c,i[s]),this.handleEventInfo(c)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let o=0;o<this.queuedEventInfos.length;o++)this.handleEventInfo(this.queuedEventInfos[o]);this.queuedEventInfos=null}}}return t})();function Bp(t,e=window){return vD(e._ejsas?.[t])}function Nc(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var JD=new D("");JD.__NG_ELEMENT_ID__=t=>{let e=oe();if(e===null)throw new C(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new C(204,!1)};var Ac=new D(""),eb=new D("");function lr(t){return!t.moduleRef}function tb(t){let e=lr(t)?t.r3Injector:t.moduleRef.injector,n=e.get(k);return n.run(()=>{lr(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ie),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),lr(t)){let i=()=>e.destroy(),s=t.platformInjector.get(Ac);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Ac);s.add(i),t.moduleRef.onDestroy(()=>{zn(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return rb(r,n,()=>{let i=e.get(Qe),s=i.add(),c=e.get(hc);return c.runInitializers(),c.donePromise.then(()=>{let a=e.get(ai,cr);if(gp(a||cr),!e.get(eb,!0))return lr(t)?e.get(Ce):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(lr(t)){let u=e.get(Ce);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return nb?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void i.remove(s))})})}var nb;function rb(t,e,n){try{let r=n();return ar(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var gi=null;function ob(t=[],e){return je.create({name:e,providers:[{provide:Rn,useValue:"platform"},{provide:Ac,useValue:new Set([()=>gi=null])},...t]})}function ib(t=[]){if(gi)return gi;let e=ob(t);return gi=e,lp(),sb(e),e}function sb(t){let e=t.get(Bo,null);Pn(t,()=>{e?.forEach(n=>n())})}var mn=(()=>{class t{static __NG_ELEMENT_ID__=ab}return t})();function ab(t){return cb(oe(),N(),(t&16)===16)}function cb(t,e,n){if(Ze(t)&&!n){let r=Ne(t.index,e);return new ct(r,r)}else if(t.type&175){let r=e[te];return new ct(r,e)}return null}function $p(t){_(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,o=ib(r),i=[Ep({}),{provide:Be,useExisting:Dc},hu,...n||[]],s=new Xn({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return tb({r3Injector:s.injector,platformInjector:o,rootComponent:e})}catch(e){return Promise.reject(e)}finally{_(9)}}var hi=new WeakSet,Vp="",mi=[];function Up(t){return t.get(ja,Nd)}function Gp(){let t=[{provide:ja,useFactory:()=>{let e=!0;{let n=g(Ge);e=!!window._ejsas?.[n]}return e&&ut("NgEventReplay"),e}}];return t.push({provide:Me,useValue:()=>{let e=g(Ce),{injector:n}=e;if(!hi.has(e)){let r=g(Ba);if(Up(n)){jd();let o=n.get(Ge),i=Fd(o,(s,c,a)=>{s.nodeType===Node.ELEMENT_NODE&&(Rd(s,c,a),Od(s,r))});e.onDestroy(i)}}},multi:!0},{provide:hn,useFactory:()=>{let e=g(Ce),{injector:n}=e;return()=>{if(!Up(n)||hi.has(e))return;hi.add(e);let r=n.get(Ge);e.onDestroy(()=>{hi.delete(e),Nc(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let o=n.get(kd);lb(o,n);let i=n.get(Ba);i.get(Vp)?.forEach(Pd),i.delete(Vp);let s=o.instance;zd(n)?e.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),t}var lb=(t,e)=>{let n=e.get(Ge),r=window._ejsas[n],o=t.instance=new jp(new fi(r.c));for(let c of r.et)o.addEvent(c);for(let c of r.etc)o.addEvent(c);let i=Bp(n);o.replayEarlyEventInfos(i),Nc(n);let s=new pi(c=>{ub(e,c,c.currentTarget)});Lp(o,s)};function ub(t,e,n){let r=(n&&n.getAttribute(rr))??"";/d\d+/.test(r)?db(r,t,e,n):e.eventPhase===xc.REPLAY&&Va(e,n)}function db(t,e,n,r){mi.push({event:n,currentTarget:r}),fp(e,t,fb)}function fb(t){let e=[...mi],n=new Set(t);mi=[];for(let{event:r,currentTarget:o}of e){let i=o.getAttribute(rr);n.has(i)?Va(r,o):mi.push({event:r,currentTarget:o})}}var Hp=!1;function pb(){Hp||(Hp=!0,Hd(),pp(),yp(),hp(),Jf(),Kf(),Ff(),yf())}function hb(t){return t.whenStable()}function zp(){let t=[{provide:nr,useFactory:()=>{let e=!0;return e=!!g(kt,{optional:!0})?.get(Ua,null),e&&ut("NgHydration"),e}},{provide:Me,useValue:()=>{Of(!1),g(nr)&&(Yd(tr()),pb())},multi:!0}];return t.push({provide:La,useFactory:()=>g(nr)},{provide:hn,useFactory:()=>{if(g(nr)){let e=g(Ce);return()=>{hb(e).then(()=>{e.destroyed||ic(e)})}}return()=>{}},multi:!0}),qe(t)}var Wp=null;function dr(){return Wp}function Rc(t){Wp??=t}var ur=class{};function gb(t,e){return new C(2100,!1)}var Oc=class{createSubscription(e,n,r){return ci(()=>e.subscribe({next:n,error:r}))}dispose(e){ci(()=>e.unsubscribe())}},Pc=class{createSubscription(e,n,r){return e.then(o=>n?.(o),o=>r?.(o)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},mb=new Pc,yb=new Oc,kc=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=g(Ie);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(ar(n))return mb;if(ni(n))return yb;throw gb(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(j(mn,16))};static \u0275pipe=cc({name:"async",type:t,pure:!1})}return t})();var ft=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ei({type:t});static \u0275inj=Nn({})}return t})();function Fc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var fr=class{};var Lc="browser";function q(t){return t===Lc}var Ei=new D(""),Hc=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(m(Ei),m(k))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),pr=class{_doc;constructor(e){this._doc=e}manager},jc="ng-app-id";function qp(t){for(let e of t)e.remove()}function Yp(t,e){let n=e.createElement("style");return n.textContent=t,n}function Db(t,e,n,r){let o=t.head?.querySelectorAll(`style[${jc}="${e}"],link[${jc}="${e}"]`);if(o)for(let i of o)i.removeAttribute(jc),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Vc(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var $c=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,Db(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,Yp);r?.forEach(o=>this.addUsage(o,this.external,Vc))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(qp(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])qp(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,Yp(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Vc(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(m(ge),m(Ge),m(Vo,8),m(W))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),Bc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gc=/%COMP%/g;var Kp="%COMP%",bb=`_nghost-${Kp}`,Ib=`_ngcontent-${Kp}`,Cb=!0,wb=new D("",{providedIn:"root",factory:()=>Cb});function Sb(t){return Ib.replace(Gc,t)}function Tb(t){return bb.replace(Gc,t)}function Qp(t,e){return e.map(n=>n.replace(Gc,t))}var zc=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,c,a,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=c,this.ngZone=a,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new hr(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof vi?o.applyToHost(n):o instanceof gr&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,c=this.ngZone,a=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Xe.Emulated:i=new vi(a,l,r,this.appId,u,s,c,d,p);break;case Xe.ShadowDom:return new Uc(a,l,n,r,s,c,this.nonce,d,p);default:i=new gr(a,l,r,u,s,c,d,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(m(Hc),m($c),m(Ge),m(wb),m(ge),m(W),m(k),m(Vo),m(Ft,8))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),hr=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,o,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Bc[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Zp(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Zp(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;let i=Bc[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let o=Bc[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&($e.DashCase|$e.Important)?e.style.setProperty(n,r,o&$e.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$e.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,o){if(typeof e=="string"&&(e=dr().getGlobalEventTarget(this.doc,e),!e))throw new C(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,o)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function Zp(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Uc=class extends hr{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,o,i,s,c,a,l){super(e,i,s,a,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=Qp(o.id,u);for(let p of u){let f=document.createElement("style");c&&f.setAttribute("nonce",c),f.textContent=p,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let p of d){let f=Vc(p,i);c&&f.setAttribute("nonce",c),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},gr=class extends hr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,o,i,s,c,a,l){super(e,i,s,c,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=l?Qp(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},vi=class extends gr{contentAttr;hostAttr;constructor(e,n,r,o,i,s,c,a,l){let u=o+"-"+r.id;super(e,n,r,i,s,c,a,l,u),this.contentAttr=Sb(u),this.hostAttr=Tb(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Di=class t extends ur{supportsDOMEvents=!0;static makeCurrent(){Rc(new t)}onAndCancel(e,n,r,o){return e.addEventListener(n,r,o),()=>{e.removeEventListener(n,r,o)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Mb();return n==null?null:_b(n)}resetBaseElement(){mr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fc(document.cookie,e)}},mr=null;function Mb(){return mr=mr||document.head.querySelector("base"),mr?mr.getAttribute("href"):null}function _b(t){return new URL(t,document.baseURI).pathname}var xb=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),Jp=(()=>{class t extends pr{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||t)(m(ge))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),Xp=["alt","control","meta","shift"],Nb={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ab={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},eh=(()=>{class t extends pr{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dr().onAndCancel(n,s.domEventName,c,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),Xp.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let a={};return a.domEventName=o,a.fullKey=s,a}static matchEventFullKeyCode(n,r){let o=Nb[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Xp.forEach(s=>{if(s!==o){let c=Ab[s];c(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{t.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(m(ge))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})();function Wc(t,e){let n=M({rootComponent:t},Rb(e));return $p(n)}function Rb(t){return{appProviders:[...Lb,...t?.providers??[]],platformProviders:Fb}}function Ob(){Di.makeCurrent()}function Pb(){return new Te}function kb(){return Pa(document),document}var Fb=[{provide:W,useValue:Lc},{provide:Bo,useValue:Ob,multi:!0},{provide:ge,useFactory:kb}];var Lb=[{provide:Rn,useValue:"root"},{provide:Te,useFactory:Pb},{provide:Ei,useClass:Jp,multi:!0,deps:[ge]},{provide:Ei,useClass:eh,multi:!0,deps:[ge]},zc,$c,Hc,{provide:Ot,useExisting:zc},{provide:fr,useClass:xb},[]];var yr=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let o=(e.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=e.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(c=>i.indexOf(c)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var jb="X-Request-URL",Bb="text/plain",Vb="application/json",NO=`${Vb}, ${Bb}, */*`;var Yc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Yc||{}),qc=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new yr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var bi=class t extends qc{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Yc.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var th=new D("");var AO=RegExp(`^${jb}:`,"m");var Ub=new D(""),Hb="b",$b="h",Gb="s",zb="st",Wb="u",qb="rt",Zc=new D(""),Yb=["GET","HEAD"];function Zb(t,e){let f=g(Zc),{isCacheActive:n}=f,r=Qc(f,["isCacheActive"]),{transferCache:o,method:i}=t;if(!n||o===!1||i==="POST"&&!r.includePostRequests&&!o||i!=="POST"&&!Yb.includes(i)||!r.includeRequestsWithAuthHeaders&&Kb(t)||r.filter?.(t)===!1)return e(t);let s=g(kt);if(g(Ub,{optional:!0}))throw new C(2803,!1);let a=t.url,l=Qb(t,a),u=s.get(l,null),d=r.includeHeaders;if(typeof o=="object"&&o.includeHeaders&&(d=o.includeHeaders),u){let{[Hb]:h,[qb]:v,[$b]:O,[Gb]:U,[zb]:fh,[Wb]:ph}=u,Ai=h;switch(v){case"arraybuffer":Ai=new TextEncoder().encode(h).buffer;break;case"blob":Ai=new Blob([h]);break}let hh=new yr(O);return Wi(new bi({body:Ai,headers:hh,status:U,statusText:fh,url:ph}))}return e(t)}function Kb(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function nh(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function Qb(t,e){let{params:n,method:r,responseType:o}=t,i=nh(n),s=t.serializeBody();s instanceof URLSearchParams?s=nh(s):typeof s!="string"&&(s="");let c=[r,o,e,s,i].join("|"),a=Xb(c);return a}function Xb(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function rh(t){return[{provide:Zc,useFactory:()=>(ut("NgHttpTransferCache"),M({isCacheActive:!0},t))},{provide:th,useValue:Zb,multi:!0},{provide:hn,multi:!0,useFactory:()=>{let e=g(Ce),n=g(Zc);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var Ii=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t}(Ii||{});function Jb(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function oh(){return Jb(Ii.EventReplay,Gp())}function ih(...t){let e=[],n=new Set;for(let{\u0275providers:o,\u0275kind:i}of t)n.add(i),o.length&&e.push(o);let r=n.has(Ii.HttpTransferCacheOptions);return qe([[],zp(),n.has(Ii.NoHttpTransferCache)||r?[]:rh({}),e])}var sh={providers:[Ws(),bc(),ih(oh())]};var se=class t{constructor(e){this.platformId=e;q(this.platformId)&&(localStorage.getItem("schoolCity-theme")==="dark"&&(this.isDarkMode=!0,this.darkModeSubject.next(!0)),this.applyTheme())}isDarkMode=!1;darkModeSubject=new yt(!1);isDarkMode$=this.darkModeSubject.asObservable();lightTheme={background:"#f8fafb",surface:"#ffffff",tileDefault:15792127,tileBorder:14806e3,primary:"#4a90e2",secondary:"#7dd3fc",accent:"#10b981",text:"#1f2937",textSecondary:"#6b7280",buttonBg:"#ffffff",buttonHover:"#f3f4f6",buttonActive:"#e5e7eb",buttonDisabled:"#f9fafb",municipalities:[7268279,8246268,16498468,16020150,10980346,16478597,3462041,6333946],areas:[8843180,9684477,16638023,16361684,12891645,16622767,4906624,3718648],units:[11006928,12573694,16707722,16574451,14538494,16698058,7268279,9684477]};darkTheme={background:"#1a1a1a",surface:"#2d2d2d",tileDefault:2763306,tileBorder:4210752,primary:"#6b7280",secondary:"#9ca3af",accent:"#10b981",text:"#e5e5e5",textSecondary:"#a1a1aa",buttonBg:"#2d2d2d",buttonHover:"#3a3a3a",buttonActive:"#454545",buttonDisabled:"#1f1f1f",municipalities:[4906624,6333946,16498468,16020150,10980346,16742517,3462041,3718648],areas:[2278750,3900150,16096779,15485081,9133302,15680580,366185,959977],units:[1483594,2450411,14251782,14362487,8141549,14427686,292951,165063]};toggleTheme(){this.isDarkMode=!this.isDarkMode,this.darkModeSubject.next(this.isDarkMode),this.applyTheme(),q(this.platformId)&&localStorage.setItem("schoolCity-theme",this.isDarkMode?"dark":"light")}getCurrentTheme(){return this.isDarkMode?this.darkTheme:this.lightTheme}getIsDarkMode(){return this.isDarkMode}applyTheme(){if(!q(this.platformId))return;let e=this.getCurrentTheme(),n=document.documentElement;n.setAttribute("data-theme",this.isDarkMode?"dark":"light"),n.style.setProperty("--bg-primary",e.background),n.style.setProperty("--bg-surface",e.surface),n.style.setProperty("--text-primary",e.text),n.style.setProperty("--text-secondary",e.textSecondary),n.style.setProperty("--color-primary",e.primary),n.style.setProperty("--color-secondary",e.secondary),n.style.setProperty("--color-accent",e.accent),n.style.setProperty("--button-bg",e.buttonBg),n.style.setProperty("--button-hover",e.buttonHover),n.style.setProperty("--button-active",e.buttonActive),n.style.setProperty("--button-disabled",e.buttonDisabled),this.isDarkMode?(n.style.setProperty("--bg-surface-translucent","rgba(45, 45, 45, 0.85)"),n.style.setProperty("--button-bg-translucent","rgba(45, 45, 45, 0.9)"),n.style.setProperty("--button-hover-translucent","rgba(55, 55, 55, 0.95)"),n.style.setProperty("--button-active-translucent","rgba(35, 35, 35, 0.8)"),n.style.setProperty("--modal-bg-translucent","rgba(45, 45, 45, 0.95)")):(n.style.setProperty("--bg-surface-translucent","rgba(255, 255, 255, 0.85)"),n.style.setProperty("--button-bg-translucent","rgba(255, 255, 255, 0.9)"),n.style.setProperty("--button-hover-translucent","rgba(255, 255, 255, 0.95)"),n.style.setProperty("--button-active-translucent","rgba(255, 255, 255, 0.8)"),n.style.setProperty("--modal-bg-translucent","rgba(255, 255, 255, 0.95)"));let r=document.querySelector("canvas");r&&(r.style.backgroundColor=e.background,r.setAttribute("data-theme",this.isDarkMode?"dark":"light"))}getTileColors(){let e=this.getCurrentTheme();return{default:e.tileDefault,border:e.tileBorder}}getMunicipalityColors(){return this.getCurrentTheme().municipalities}getAreaColors(){return this.getCurrentTheme().areas}getUnitColors(){return this.getCurrentTheme().units}static \u0275fac=function(n){return new(n||t)(m(W))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};var ze=class t{constructor(e){this.themeService=e}municipalities=[];counter=1;getMunicipalities(){return this.municipalities}loadMunicipalities(e,n){this.municipalities=e.map(r=>M({},r)),this.counter=n}addMunicipality(){let e=this.themeService.getMunicipalityColors(),n=e[this.municipalities.length%e.length],r={id:`municipality-${this.counter}`,name:`Municipality ${this.counter}`,baseColor:n,baseColorString:this.hexNumberToString(n),areas:[]};return this.municipalities.push(r),this.counter++,r}addArea(e){let n=this.municipalities.find(c=>c.id===e);if(!n)return null;let r=n.areas.length+1,o=1.2+n.areas.length*.15,i=this.generateShadeFromNumber(n.baseColor,o),s={id:`${e}-area-${r}`,name:`Area ${r}`,municipalityId:e,color:i.color,colorString:i.colorString,units:[]};return n.areas.push(s),s}addUnit(e,n){let r=this.municipalities.find(l=>l.id===e),o=r?.areas.find(l=>l.id===n);if(!r||!o)return null;let i=o.units.length+1,s=.8-o.units.length*.1,c=this.generateShadeFromNumber(r.baseColor,s),a={id:`${n}-unit-${i}`,name:`Unit ${i}`,areaId:n,municipalityId:e,color:c.color,colorString:c.colorString};return o.units.push(a),a}hexNumberToString(e){return`#${e.toString(16).padStart(6,"0")}`}hexStringToNumber(e){return parseInt(e.replace("#",""),16)}generateShadeFromNumber(e,n){let r=e>>16&255,o=e>>8&255,i=e&255,s,c,a;if(n>1){let d=n-1;s=Math.round(r+(255-r)*d),c=Math.round(o+(255-o)*d),a=Math.round(i+(255-i)*d)}else s=Math.round(r*n),c=Math.round(o*n),a=Math.round(i*n);s=Math.max(0,Math.min(255,s)),c=Math.max(0,Math.min(255,c)),a=Math.max(0,Math.min(255,a));let l=s<<16|c<<8|a,u=`#${l.toString(16).padStart(6,"0")}`;return{color:l,colorString:u}}getAllBoundaryOptions(){let e=[];return this.municipalities.forEach(n=>{e.push({id:n.id,label:n.name,color:n.baseColorString,type:"municipality"}),n.areas.forEach(r=>{e.push({id:r.id,label:`${r.name} (${n.name})`,color:r.colorString,type:"area"}),r.units.forEach(o=>{e.push({id:o.id,label:`${o.name} (${r.name})`,color:o.colorString,type:"unit"})})})}),e}getMunicipalityById(e){return this.municipalities.find(n=>n.id===e)}getAreaById(e){for(let n of this.municipalities){let r=n.areas.find(o=>o.id===e);if(r)return r}}getUnitById(e){for(let n of this.municipalities)for(let r of n.areas){let o=r.units.find(i=>i.id===e);if(o)return o}}getColorForBoundary(e){if(!e||e.trim()==="")return this.themeService.getTileColors().default;let n=this.getMunicipalityById(e);if(n)return n.baseColor;let r=this.getAreaById(e);if(r)return r.color;let o=this.getUnitById(e);return o?o.color:this.themeService.getTileColors().default}removeMunicipality(e){let n=this.municipalities.findIndex(r=>r.id===e);return n!==-1?(this.municipalities.splice(n,1),!0):!1}removeArea(e){for(let n of this.municipalities){let r=n.areas.findIndex(o=>o.id===e);if(r!==-1)return n.areas.splice(r,1),!0}return!1}removeUnit(e){for(let n of this.municipalities)for(let r of n.areas){let o=r.units.findIndex(i=>i.id===e);if(o!==-1)return r.units.splice(o,1),!0}return!1}clearAll(){this.municipalities=[],this.counter=1}static \u0275fac=function(n){return new(n||t)(m(se))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};var wi=class t{constructor(e,n,r,o){this.municipalityManager=e;this.cdRef=n;this.ngZone=r;this.platformId=o;q(this.platformId)&&(window.refreshBoundarySelector=()=>{this.ngZone.run(()=>{this.cdRef.markForCheck(),this.cdRef.detectChanges()})})}boundarySelected=new Re;selected=null;selectedUnitForSchool=null;isSchoolMode=!1;paintMode=null;getModeLabel(){if(this.isSchoolMode&&this.selectedUnitForSchool)return`\u{1F3EB} Placing Schools in ${this.municipalityManager.getUnitById(this.selectedUnitForSchool)?.name||"Unit"}`;if(this.selected){let e=this.municipalityManager.getMunicipalityById(this.selected);if(e)return`\u{1F3DB}\uFE0F Paint ${e.name}`;let n=this.municipalityManager.getAreaById(this.selected);if(n)return`\u{1F4CD} Paint ${n.name}`;let r=this.municipalityManager.getUnitById(this.selected);if(r)return`\u{1F532} Paint ${r.name}`}return"\u{1F3A8} Select a tool to paint tiles"}getInstructions(){if(this.isSchoolMode)return"Click on dark green unit tiles to place schools";if(this.selected)return`Drag on tiles to paint them as ${this.getSelectedType()}. Click a different tool or "Clear" to switch.`;let e=this.municipalityManager.getMunicipalities(),n=this.getAvailableAreas(),r=this.getAvailableUnits();return e.length===0?"Start by creating a Municipality, then paint some tiles with it.":n.length===0?"Create an Area, then paint some tiles within your municipality.":r.length===0?"Create a Unit, then paint some tiles within your area.":"Create boundaries step by step: Municipality \u2192 Area \u2192 Unit \u2192 School"}getSelectedType(){return this.municipalityManager.getMunicipalityById(this.selected||"")?"Municipality":this.municipalityManager.getAreaById(this.selected||"")?"Area":this.municipalityManager.getUnitById(this.selected||"")?"Unit":""}selectAndAutoCreate(e,n){this.isSchoolMode=!1,this.selectedUnitForSchool=null,this.selected=n,this.boundarySelected.emit(n)}quickAdd(e){if(e==="municipality"){let n=this.municipalityManager.addMunicipality();this.selectAndAutoCreate("municipality",n.id)}else if(e==="area"){let n=this.getSelectedOrFirstMunicipalityId();if(n){let r=this.municipalityManager.addArea(n);r&&this.selectAndAutoCreate("area",r.id)}}else if(e==="unit"){let n=this.getSelectedOrFirstAreaId(),r=this.getSelectedOrFirstMunicipalityId();if(n&&r){let o=this.municipalityManager.addUnit(r,n);o&&this.selectAndAutoCreate("unit",o.id)}}}getSelectedMunicipalityId(){let e=this.municipalityManager.getMunicipalityById(this.selected||"");if(e)return e.id;let n=this.municipalityManager.getAreaById(this.selected||"");if(n)return n.municipalityId;let r=this.municipalityManager.getUnitById(this.selected||"");return r?r.municipalityId:null}getSelectedAreaId(){let e=this.municipalityManager.getAreaById(this.selected||"");if(e)return e.id;let n=this.municipalityManager.getUnitById(this.selected||"");return n?n.areaId:null}getAvailableAreas(){let e=this.getSelectedMunicipalityId();if(!e)return[];let n=this.municipalityManager.getMunicipalityById(e);return n?n.areas:[]}getAvailableUnits(){let e=this.getSelectedAreaId();if(!e)return[];let n=this.municipalityManager.getAreaById(e);return n?n.units:[]}canAddArea(){return this.municipalityManager.getMunicipalities().length>0}canAddUnit(){return this.getAvailableAreas().length>0}canPlaceSchool(){return this.getAvailableUnits().length>0}getSelectedOrFirstMunicipalityId(){let e=this.municipalityManager.getMunicipalityById(this.selected||"");if(e)return e.id;let n=this.municipalityManager.getAreaById(this.selected||"");if(n)return n.municipalityId;let r=this.municipalityManager.getUnitById(this.selected||"");if(r)return r.municipalityId;let o=this.municipalityManager.getMunicipalities();return o.length>0?o[0].id:null}getSelectedOrFirstAreaId(){let e=this.municipalityManager.getAreaById(this.selected||"");if(e)return e.id;let n=this.municipalityManager.getUnitById(this.selected||"");if(n)return n.areaId;let r=this.getAvailableAreas();return r.length>0?r[0].id:null}enterSchoolMode(){let e=this.getSelectedOrFirstUnitId();e&&(this.selectedUnitForSchool=e,this.isSchoolMode=!0,this.boundarySelected.emit(`school:${e}`))}getSelectedOrFirstUnitId(){let e=this.municipalityManager.getUnitById(this.selected||"");if(e)return e.id;let n=this.getAvailableUnits();return n.length>0?n[0].id:null}select(e){if(e==="school"){let n=this.municipalityManager.getUnitById(this.selected||"");if(!n)return;this.selectedUnitForSchool=n.id,this.isSchoolMode=!0,this.boundarySelected.emit(`school:${n.id}`);return}this.isSchoolMode=!1,this.selectedUnitForSchool=null,this.selected=e,this.boundarySelected.emit(e)}clearSelection(){this.selected=null,this.isSchoolMode=!1,this.selectedUnitForSchool=null,this.boundarySelected.emit("")}addMunicipality(){this.municipalityManager.addMunicipality()}addArea(e){this.municipalityManager.addArea(e)}addUnit(e,n){this.municipalityManager.addUnit(e,n)}getSelectionLabel(){if(this.isSchoolMode&&this.selectedUnitForSchool)return`Place School Mode - Selected Unit: ${this.municipalityManager.getUnitById(this.selectedUnitForSchool)?.name||"Unknown"}`;let e=this.municipalityManager.getMunicipalityById(this.selected||"");if(e)return`${e.name} (Municipality)`;let n=this.municipalityManager.getAreaById(this.selected||"");if(n)return`${n.name} (Area)`;let r=this.municipalityManager.getUnitById(this.selected||"");return r?`${r.name} (Unit - Ready for school placement)`:"Unknown"}getSelectedUnitId(){let e=this.municipalityManager.getUnitById(this.selected||"");return e?e.id:null}getCurrentSelectionName(){let e=this.municipalityManager.getMunicipalityById(this.selected||"");if(e)return`${e.name} (Municipality)`;let n=this.municipalityManager.getAreaById(this.selected||"");if(n)return`${n.name} (Area)`;let r=this.municipalityManager.getUnitById(this.selected||"");return r?`${r.name} (Unit)`:"Unknown"}onMunicipalityChange(e){let n=e.target.value;n?this.selectAndAutoCreate("municipality",n):this.clearSelection()}onAreaChange(e){let n=e.target.value;if(n)this.selectAndAutoCreate("area",n);else{let r=this.getSelectedMunicipalityId();r&&this.selectAndAutoCreate("municipality",r)}}onUnitChange(e){let n=e.target.value;if(n)this.selectAndAutoCreate("unit",n);else{let r=this.getSelectedAreaId();r&&this.selectAndAutoCreate("area",r)}}setPaintMode(e){this.paintMode=e,this.isSchoolMode=e==="school",this.boundarySelected.emit(`paint:${e}`)}setPanMode(){this.paintMode=null,this.isSchoolMode=!1,this.boundarySelected.emit("paint:pan")}startNewMunicipality(){this.boundarySelected.emit("paint:reset_municipality"),this.setPaintMode("municipality")}updateButtonStates(){this.ngZone.run(()=>{this.cdRef.markForCheck(),this.cdRef.detectChanges()})}getPaintModeLabel(){switch(this.paintMode){case"municipality":return"Municipality Brush";case"area":return"Area Brush";case"unit":return"Unit Brush";case"school":return"School Placer";case"clear":return"Eraser";case null:return"Pan Mode";default:return"Select a tool"}}getPaintInstruction(){switch(this.paintMode){case"municipality":return"Click/drag to paint tiles with the same municipality color. Double-click Municipality button to start a new municipality.";case"area":return"Click/drag on municipality tiles (colored) to create areas within them.";case"unit":return"Click/drag on area tiles to create units within them.";case"school":return"Click on unit tiles to place schools. Schools can only be placed on units.";case"clear":return"Click/drag on any painted tile to erase it and return it to green.";case null:return"Pan mode active - tap/drag to move the camera. Select a tool below to start painting.";default:return"Choose a paint tool to start building your city hierarchy"}}hasAnyMunicipality(){return this.municipalityManager.getMunicipalities().length>0}hasAnyArea(){return this.municipalityManager.getMunicipalities().some(e=>e.areas.length>0)}hasAnyUnit(){return this.municipalityManager.getMunicipalities().some(e=>e.areas.some(n=>n.units.length>0))}static \u0275fac=function(n){return new(n||t)(j(ze),j(mn),j(k),j(W))};static \u0275cmp=Je({type:t,selectors:[["app-boundary-selector"]],outputs:{boundarySelected:"boundarySelected"},decls:37,vars:17,consts:[[1,"paint-toolbar"],[1,"tool-set"],["title","Paint Municipality (Double-click to start new municipality)",1,"paint-tool","municipality-tool",3,"click","dblclick"],[1,"material-icons-outlined"],["title","Paint Area",1,"paint-tool","area-tool",3,"click","disabled"],["title","Paint Unit",1,"paint-tool","unit-tool",3,"click","disabled"],["title","Place School",1,"paint-tool","school-tool",3,"click","disabled"],["title","Erase",1,"paint-tool","clear-tool",3,"click"],["title","Pan Mode - Navigate around the grid",1,"paint-tool","pan-tool",3,"click"],[1,"paint-status","desktop-only"],[1,"current-tool"],[1,"instruction"]],template:function(n,r){n&1&&(P(0,"div",0)(1,"div",1)(2,"button",2),Pe("click",function(){return r.setPaintMode("municipality")})("dblclick",function(){return r.startNewMunicipality()}),P(3,"span",3),T(4,"location_city"),z(),P(5,"span"),T(6,"Municipality"),z()(),P(7,"button",4),Pe("click",function(){return r.setPaintMode("area")}),P(8,"span",3),T(9,"map"),z(),P(10,"span"),T(11,"Area"),z()(),P(12,"button",5),Pe("click",function(){return r.setPaintMode("unit")}),P(13,"span",3),T(14,"domain"),z(),P(15,"span"),T(16,"Unit"),z()(),P(17,"button",6),Pe("click",function(){return r.setPaintMode("school")}),P(18,"span",3),T(19,"school"),z(),P(20,"span"),T(21,"School"),z()(),P(22,"button",7),Pe("click",function(){return r.setPaintMode("clear")}),P(23,"span",3),T(24,"backspace"),z(),P(25,"span"),T(26,"Erase"),z()(),P(27,"button",8),Pe("click",function(){return r.setPanMode()}),P(28,"span",3),T(29,"pan_tool"),z(),P(30,"span"),T(31,"Pan"),z()()(),P(32,"div",9)(33,"span",10),T(34),z(),P(35,"span",11),T(36),z()()()),n&2&&(V(2),we("active",r.paintMode==="municipality"),V(5),we("active",r.paintMode==="area"),gn("disabled",!r.hasAnyMunicipality()),V(5),we("active",r.paintMode==="unit"),gn("disabled",!r.hasAnyArea()),V(5),we("active",r.paintMode==="school"),gn("disabled",!r.hasAnyUnit()),V(5),we("active",r.paintMode==="clear"),V(5),we("active",r.paintMode===null),V(7),Bt(r.getPaintModeLabel()),V(2),Bt(r.getPaintInstruction()))},dependencies:[ft],styles:['.paint-toolbar[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background:var(--bg-surface-translucent);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:20px;box-shadow:0 12px 40px #0000001f;padding:20px 28px;z-index:10000;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,system-ui,sans-serif;border:1px solid rgba(0,0,0,.06);min-width:520px;max-width:calc(100vw - 40px);text-align:center;transition:all .3s cubic-bezier(.4,0,.2,1);box-sizing:border-box}.tool-set[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center;margin-bottom:16px}.paint-tool[_ngcontent-%COMP%]{padding:16px 18px;border:2px solid transparent;border-radius:14px;background:var(--button-bg-translucent);color:var(--text-primary);font-size:13px;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);min-width:85px;max-width:130px;display:flex;align-items:center;justify-content:center;gap:6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;box-shadow:0 2px 8px #00000014;position:relative;flex-direction:column}.paint-tool[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%]{font-size:20px;line-height:1;margin-bottom:4px}.paint-tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.material-icons-outlined){font-size:12px;line-height:1}.paint-tool[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:12px;background:linear-gradient(135deg,transparent,rgba(255,255,255,.1));opacity:0;transition:opacity .3s ease}.paint-tool[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #00000026;background:var(--button-hover-translucent)}.paint-tool[_ngcontent-%COMP%]:hover:not(:disabled):before{opacity:1}.paint-tool.active[_ngcontent-%COMP%]{transform:translateY(-2px);box-shadow:0 8px 25px #0003}.paint-tool[_ngcontent-%COMP%]:disabled{background:var(--button-disabled);color:var(--text-secondary);cursor:not-allowed;transform:none;box-shadow:0 1px 3px #0000000d;opacity:.6}.municipality-tool.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6ee7b7,#34d399);color:#fff;border-color:#6ee7b7;box-shadow:0 8px 25px #6ee7b766}.area-tool.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fbbf24,#f59e0b);color:#fff;border-color:#fbbf24;box-shadow:0 8px 25px #fbbf2466}.unit-tool.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a78bfa,#8b5cf6);color:#fff;border-color:#a78bfa;box-shadow:0 8px 25px #a78bfa66}.school-tool.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f472b6,#ec4899);color:#fff;border-color:#f472b6;box-shadow:0 8px 25px #f472b666}.clear-tool.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#64748b,#475569);color:#fff;border-color:#64748b;box-shadow:0 8px 25px #64748b66}.pan-tool.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0ea5e9,#0284c7);color:#fff;border-color:#0ea5e9;box-shadow:0 8px 25px #0ea5e966}.paint-status[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;padding-top:16px;border-top:1px solid rgba(0,0,0,.08)}.desktop-only[_ngcontent-%COMP%]{display:flex}.current-tool[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary)}.instruction[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);font-style:italic;line-height:1.4;max-width:480px;margin:0 auto}@media (max-width: 768px){.paint-toolbar[_ngcontent-%COMP%]{bottom:12px;left:12px;right:12px;transform:none;min-width:auto;max-width:none;padding:16px 20px;border-radius:16px;width:calc(100vw - 24px);box-sizing:border-box}.tool-set[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:6px;overflow-x:auto;padding:4px 0;scrollbar-width:none;-ms-overflow-style:none}.tool-set[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.paint-tool[_ngcontent-%COMP%]{flex:1;min-width:65px;max-width:none;padding:12px 6px;font-size:11px;gap:3px;flex-direction:column;border-radius:12px}.paint-tool[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%]{font-size:18px;margin-bottom:2px}.paint-tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.material-icons-outlined){font-size:10px}.desktop-only[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){.paint-toolbar[_ngcontent-%COMP%]{bottom:8px;left:8px;right:8px;padding:12px 16px;border-radius:14px;width:calc(100vw - 16px);box-sizing:border-box}.tool-set[_ngcontent-%COMP%]{gap:4px}.paint-tool[_ngcontent-%COMP%]{min-width:55px;padding:10px 4px;font-size:10px;border-radius:10px}.paint-tool[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%]{font-size:16px;margin-bottom:1px}.paint-tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.material-icons-outlined){font-size:9px}}']})};var Si=class t{constructor(e){this.themeService=e}get isDarkMode$(){return this.themeService.isDarkMode$}toggleTheme(){this.themeService.toggleTheme()}static \u0275fac=function(n){return new(n||t)(j(se))};static \u0275cmp=Je({type:t,selectors:[["app-theme-toggle"]],decls:5,vars:6,consts:[["title","Toggle theme",1,"theme-toggle",3,"click"],[1,"material-icons-outlined","toggle-icon"]],template:function(n,r){n&1&&(P(0,"button",0),ii(1,"async"),Pe("click",function(){return r.toggleTheme()}),P(2,"span",1),T(3),ii(4,"async"),z()()),n&2&&(ri("aria-label",si(1,2,r.isDarkMode$)?"Switch to light mode":"Switch to dark mode"),V(3),Vt(" ",si(4,4,r.isDarkMode$)?"light_mode":"dark_mode"," "))},dependencies:[ft,kc],styles:[".theme-toggle[_ngcontent-%COMP%]{background:var(--button-bg);border:1px solid rgba(0,0,0,.1);border-radius:12px;padding:8px 12px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;min-width:44px;min-height:44px;font-size:18px;box-shadow:0 1px 3px #0000001a}.theme-toggle[_ngcontent-%COMP%]:hover{background:var(--button-hover);transform:translateY(-1px);box-shadow:0 2px 6px #00000026}.theme-toggle[_ngcontent-%COMP%]:active{background:var(--button-active);transform:translateY(0)}.toggle-icon[_ngcontent-%COMP%]{font-size:20px;line-height:1;transition:transform .3s ease}.theme-toggle[_ngcontent-%COMP%]:hover   .toggle-icon[_ngcontent-%COMP%]{transform:scale(1.1)}@media (max-width: 768px){.theme-toggle[_ngcontent-%COMP%]{min-width:40px;min-height:40px;padding:6px 10px;font-size:16px}}"]})};var Ti=class{static createScene(e,n,r,o){return function(i){let c=(i.default||i).Scene||i.Scene;if(!c)throw new Error("Phaser.Scene not available in any format");return class extends c{gameEventService;graphics;gameStateService;renderingService;educationHierarchyService;municipalityManager;isSelecting=!1;selectedBoundary=null;isPlacingSchool=!1;pointerStartPos=null;hasPanned=!1;paintMode=null;currentMunicipalityId=null;currentAreaId=null;currentUnitId=null;constructor(){super({key:"MainScene"}),this.gameStateService=e,this.renderingService=n,this.educationHierarchyService=r,this.gameEventService=o,this.municipalityManager=n.municipalityManager}preload(){this.load.image("school","assets/images/school.png"),this.load.on("loaderror",a=>{a.key==="school"&&this.createFallbackTexture()})}createFallbackTexture(){let a=this.add.graphics();a.fillStyle(13789470),a.fillRect(8,32,48,32),a.fillStyle(9127187),a.fillRect(12,24,40,24),a.fillStyle(6636321),a.fillRect(8,16,48,12),a.fillStyle(8900331),a.fillRect(18,32,8,8),a.fillRect(38,32,8,8),a.generateTexture("school",64,64),a.destroy()}create(){try{let a=this.add;a&&typeof a.graphics=="function"&&(this.graphics=a.graphics(),this.renderingService.setGraphics(this.graphics),this.renderingService.setScene(this),this.gameStateService.startGame(),this.gameStateService.renderGame())}catch(a){console.error("\u274C Error in MainScene create:",a),a instanceof Error&&console.error("Error details:",a.stack)}window.setSelectedBoundary=a=>{if(a.startsWith("paint:")){let l=a.replace("paint:","");l==="reset_municipality"?this.currentMunicipalityId=null:l==="pan"?(this.setPaintMode(null),this.isPlacingSchool=!1,this.selectedBoundary=null,console.log("Phaser scene: Pan mode activated, all paint states cleared")):this.setPaintMode(l)}else a.startsWith("school:")?(this.isPlacingSchool=!0,this.selectedBoundary=a):(this.isPlacingSchool=!1,this.selectedBoundary=a)},window.getCurrentPaintMode=()=>this.paintMode,window.getCurrentBoundarySelection=()=>this.selectedBoundary,window.notifyPaintModeChange=()=>{typeof window<"u"&&window.updatePaintModeVisuals&&window.updatePaintModeVisuals()},window.handleGridClick=(a,l)=>{this.paintMode?this.paintAt(a,l):this.isPlacingSchool?this.tryPlaceSchoolAt(a,l):this.selectedBoundary&&this.assignBoundaryAt(a,l)},this.input.on("pointerdown",a=>{if(this.pointerStartPos={x:a.x,y:a.y},this.hasPanned=!1,this.paintMode)this.isSelecting=!0,this.paintAt(a.x,a.y);else if(this.isPlacingSchool)this.tryPlaceSchoolAt(a.x,a.y);else if(this.selectedBoundary)this.isSelecting=!0,this.assignBoundaryAt(a.x,a.y);else{let{x:l,y:u}=this.renderingService.screenToGrid(a.x,a.y),d=this.gameStateService.schoolService.getSchoolAtPosition(l,u);d&&this.gameEventService&&!this.hasPanned&&this.gameEventService.schoolClicked$.next(Z(M({},d),{x:l,y:u}))}}),this.input.on("pointermove",a=>{if(this.pointerStartPos){let l=Math.abs(a.x-this.pointerStartPos.x),u=Math.abs(a.y-this.pointerStartPos.y);(l>5||u>5)&&(this.hasPanned=!0)}this.isSelecting&&this.paintMode&&!this.hasPanned?this.paintAt(a.x,a.y):this.isSelecting&&this.selectedBoundary&&!this.hasPanned&&this.assignBoundaryAt(a.x,a.y)}),this.input.on("pointerup",()=>{this.isSelecting=!1,this.pointerStartPos=null,setTimeout(()=>{this.hasPanned=!1},100)})}assignBoundaryAt(a,l){let{x:u,y:d}=this.renderingService.screenToGrid(a,l),p=this.gameStateService.gridService;if(p&&p.isValidPosition(u,d)){let f=p.getTile(u,d);if(f){if(this.selectedBoundary?.includes("-unit-")){let h=this.selectedBoundary,v=h.split("-");if(v.length>=6){let O=`${v[0]}-${v[1]}`,U=`${v[0]}-${v[1]}-${v[2]}-${v[3]}`;f.municipalityId=O,f.areaId=U,f.unitId=h}}else this.selectedBoundary?.includes("-area-")&&!this.selectedBoundary.includes("-unit-")?f.municipalityId&&!f.unitId&&(f.areaId=this.selectedBoundary):this.selectedBoundary?.startsWith("municipality")&&!this.selectedBoundary.includes("area")&&!this.selectedBoundary.includes("unit")?f.municipalityId!==this.selectedBoundary&&(f.municipalityId=this.selectedBoundary,f.areaId="",f.unitId=""):this.selectedBoundary===""&&(f.municipalityId="",f.areaId="",f.unitId="");this.gameStateService.renderGame()}}}tryPlaceSchoolAt(a,l){let{x:u,y:d}=this.renderingService.screenToGrid(a,l),p=this.gameStateService.gridService;if(p&&p.isValidPosition(u,d)){let f=p.getTile(u,d);if(f&&f.unitId&&!f.hasSchool){let h=this.gameStateService.schoolService;h&&(h.placeSchoolAuto(u,d)?(this.gameStateService.renderGame(),typeof window<"u"&&window.autoSaveGame&&window.autoSaveGame()):console.error("\u274C Could not place school at position",u,d))}else f.unitId?f.hasSchool&&console.error("\u274C Cannot place school - area already has a school"):console.error("\u274C Cannot place school - tile is not within a unit boundary")}}update(){}setPaintMode(a){a===null?(this.paintMode=null,this.isPlacingSchool=!1,this.selectedBoundary=null):(this.paintMode=a,this.isPlacingSchool=a==="school",this.selectedBoundary=null),a!=="municipality"&&(this.currentMunicipalityId=null),a!=="area"&&(this.currentAreaId=null),a!=="unit"&&(this.currentUnitId=null),typeof window<"u"&&window.notifyPaintModeChange&&window.notifyPaintModeChange()}paintAt(a,l){let{x:u,y:d}=this.renderingService.screenToGrid(a,l),p=this.gameStateService.gridService;if(!p||!p.isValidPosition(u,d))return;let f=p.getTile(u,d);if(f){switch(this.paintMode){case"municipality":this.paintMunicipality(f);break;case"area":this.paintArea(f);break;case"unit":this.paintUnit(f);break;case"school":this.paintSchool(f,u,d);break;case"clear":this.clearTile(f,u,d);break}this.gameStateService.renderGame(),typeof window<"u"&&window.autoSaveGame&&window.autoSaveGame(),typeof window<"u"&&(window.updatePaintToolStates&&window.updatePaintToolStates(),window.refreshBoundarySelector&&window.refreshBoundarySelector())}}paintMunicipality(a){if(!a.municipalityId){if(!this.currentMunicipalityId){this.municipalityManager.addMunicipality();let l=this.municipalityManager.getMunicipalities(),u=l[l.length-1];this.currentMunicipalityId=u.id}a.municipalityId=this.currentMunicipalityId,a.areaId="",a.unitId=""}}paintArea(a){if(a.municipalityId&&!a.unitId){if(!this.currentAreaId){let l=this.municipalityManager.addArea(a.municipalityId);l&&(this.currentAreaId=l.id)}if(this.currentAreaId){let l=this.municipalityManager.getAreaById(this.currentAreaId);l&&l.municipalityId===a.municipalityId&&(a.areaId=this.currentAreaId,a.unitId="")}}}paintUnit(a){if(a.areaId&&!a.unitId){if(!this.currentUnitId){let l=this.municipalityManager.getAreaById(a.areaId);if(l){let u=this.municipalityManager.addUnit(l.municipalityId,a.areaId);u&&(this.currentUnitId=u.id)}}if(this.currentUnitId){let l=this.municipalityManager.getUnitById(this.currentUnitId);l&&l.areaId===a.areaId&&(a.unitId=this.currentUnitId)}}}paintSchool(a,l,u){if(a.unitId&&!a.hasSchool){let d=this.gameStateService.schoolService;d&&(d.placeSchoolAuto(l,u)||console.error("\u274C Could not place school at position",l,u))}}clearTile(a,l,u){let d=a.municipalityId,p=a.areaId,f=a.unitId;if(a.hasSchool){let h=this.gameStateService.schoolService;h&&h.removeSchool(l,u)}a.municipalityId="",a.areaId="",a.unitId="",a.hasSchool=!1,this.cleanupOrphanedStructures(d,p,f)}cleanupOrphanedStructures(a,l,u){let d=this.gameStateService.gridService;if(!(!d||!this.municipalityManager)){if(a){let p=!1;for(let f=0;f<d.width;f++){for(let h=0;h<d.height;h++){let v=d.getTile(f,h);if(v&&v.municipalityId===a){p=!0;break}}if(p)break}p||this.municipalityManager.removeMunicipality(a)}if(l){let p=!1;for(let f=0;f<d.width;f++){for(let h=0;h<d.height;h++){let v=d.getTile(f,h);if(v&&v.areaId===l){p=!0;break}}if(p)break}p||this.municipalityManager.removeArea(l)}if(u){let p=!1;for(let f=0;f<d.width;f++){for(let h=0;h<d.height;h++){let v=d.getTile(f,h);if(v&&v.unitId===u){p=!0;break}}if(p)break}p||this.municipalityManager.removeUnit(u)}}}destroy(){this.graphics&&this.graphics.destroy()}}}}};var ae={GRID:{SIZE:10,TILE_WIDTH:64,TILE_HEIGHT:32,OFFSET_X:400,OFFSET_Y:100},COLORS:{TILE_FILL:15792127,TILE_BORDER:14806e3,SCHOOL_ROOF:16020150,SCHOOL_BUILDING:8246268,SCHOOL_DOOR:1096065,MUNICIPALITY_1:14935786,MUNICIPALITY_2:12048102,AREA_1:14084043,AREA_2:12048035,UNIT_1:16769126,UNIT_2:16233063},SCHOOL:{DEFAULT_CAPACITY:100,MIN_CAPACITY:10,MAX_CAPACITY:1e3,TYPES:{ELEMENTARY:{size:{width:2,height:2},capacity:150,name:"Elementary School"},MIDDLE:{size:{width:3,height:3},capacity:300,name:"Middle School"},HIGH:{size:{width:4,height:3},capacity:600,name:"High School"}},COMPONENTS:{MAIN_BUILDING:{color:8246268,name:"Main Building"},GYMNASIUM:{color:16498468,name:"Gymnasium"},PLAYGROUND:{color:1096065,name:"Playground"},PARKING:{color:7041664,name:"Parking"},SPORTS_COURT:{color:16020150,name:"Sports Court"},CAFETERIA:{color:10980346,name:"Cafeteria"},LIBRARY:{color:3462041,name:"Library"},GARDEN:{color:4906624,name:"Garden"}}},GAME:{WIDTH:900,HEIGHT:600,BACKGROUND_COLOR:"#f8fafb"}};var Mi=class t{constructor(e){this.platformId=e}game=null;scene=null;async initializeGame(e,n,r){if(!q(this.platformId))throw new Error("Game can only be initialized in browser environment");try{let o=await import("./chunk-3GW7JJVZ.js"),i=o.default||o;if(!i.Game)throw new Error("Phaser.Game constructor not available");let s=r(i);return this.game=new i.Game({type:i.AUTO,width:n.width,height:n.height,parent:e,backgroundColor:n.backgroundColor,scene:[s]}),this.game}catch(o){throw o}}getGame(){return this.game}getScene(){return this.scene}setScene(e){this.scene=e}destroyGame(){this.game&&(this.game.destroy(!0),this.game=null,this.scene=null)}static \u0275fac=function(n){return new(n||t)(m(W))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};var pt=class t{grid=[];gridSize=ae.GRID.SIZE;constructor(){this.initializeGrid()}initializeGrid(){this.grid=Array.from({length:this.gridSize},(e,n)=>Array.from({length:this.gridSize},(r,o)=>({x:o,y:n,hasSchool:!1,municipalityId:"",areaId:"",unitId:""})))}cleanSlate(){this.initializeGrid()}getGrid(){return this.grid}loadGrid(e){this.grid=e.map(n=>n.map(r=>M({},r)))}getTile(e,n){return this.isValidPosition(e,n)?this.grid[n][e]:null}setTileSchool(e,n,r){return this.isValidPosition(e,n)?(this.grid[n][e].hasSchool=r,!0):!1}hasSchool(e,n){let r=this.getTile(e,n);return r?r.hasSchool:!1}placeSchool(e,n){return this.isValidPosition(e,n)&&!this.hasSchool(e,n)?this.setTileSchool(e,n,!0):!1}removeSchool(e,n){return this.isValidPosition(e,n)&&this.hasSchool(e,n)?this.setTileSchool(e,n,!1):!1}isValidPosition(e,n){return e>=0&&n>=0&&e<this.gridSize&&n<this.gridSize}getGridSize(){return this.gridSize}resetGrid(){this.initializeGrid()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};var vn=class t{constructor(e){this.gridService=e}schools=new Map;schoolCounter=0;generateSchoolLayout(e){switch(e){case"ELEMENTARY":return[{type:"MAIN_BUILDING",position:{x:0,y:0},size:{width:1,height:1}},{type:"PLAYGROUND",position:{x:1,y:0},size:{width:1,height:1}},{type:"GARDEN",position:{x:0,y:1},size:{width:1,height:1}},{type:"PARKING",position:{x:1,y:1},size:{width:1,height:1}}];case"MIDDLE":return[{type:"MAIN_BUILDING",position:{x:0,y:0},size:{width:2,height:1}},{type:"GYMNASIUM",position:{x:2,y:0},size:{width:1,height:1}},{type:"PLAYGROUND",position:{x:0,y:1},size:{width:1,height:1}},{type:"SPORTS_COURT",position:{x:1,y:1},size:{width:1,height:1}},{type:"LIBRARY",position:{x:2,y:1},size:{width:1,height:1}},{type:"CAFETERIA",position:{x:0,y:2},size:{width:2,height:1}},{type:"PARKING",position:{x:2,y:2},size:{width:1,height:1}}];case"HIGH":return[{type:"MAIN_BUILDING",position:{x:0,y:0},size:{width:2,height:2}},{type:"GYMNASIUM",position:{x:2,y:0},size:{width:1,height:1}},{type:"LIBRARY",position:{x:3,y:0},size:{width:1,height:1}},{type:"CAFETERIA",position:{x:2,y:1},size:{width:2,height:1}},{type:"SPORTS_COURT",position:{x:0,y:2},size:{width:2,height:1}},{type:"PLAYGROUND",position:{x:2,y:2},size:{width:1,height:1}},{type:"PARKING",position:{x:3,y:2},size:{width:1,height:1}}];default:return[{type:"MAIN_BUILDING",position:{x:0,y:0},size:{width:1,height:1}}]}}canPlaceSchool(e,n,r){for(let o=0;o<r.width;o++)for(let i=0;i<r.height;i++){let s=e+o,c=n+i;if(!this.gridService.isValidPosition(s,c)||this.gridService.hasSchool(s,c))return!1;let a=this.gridService.getTile(s,c);if(!a||!a.unitId)return!1}return!0}placeSchool(e,n,r,o){let i=r||"ELEMENTARY",s=ae.SCHOOL.TYPES[i];if(!this.canPlaceSchool(e,n,s.size))return null;let c=`school_${++this.schoolCounter}`,a={id:c,position:{x:e,y:n},size:s.size,type:i,name:o||`${s.name} ${this.schoolCounter}`,capacity:s.capacity,currentStudents:0,createdAt:new Date,layout:this.generateSchoolLayout(i)};this.schools.set(c,a);for(let l=0;l<s.size.width;l++)for(let u=0;u<s.size.height;u++)this.gridService.placeSchool(e+l,n+u);return a}placeSchoolAuto(e,n,r){let o=["HIGH","MIDDLE","ELEMENTARY"];for(let i of o){let s=ae.SCHOOL.TYPES[i],c=this.findBestSchoolPosition(e,n,s.size);if(c)return this.placeSchool(c.x,c.y,i,r)}return null}findBestSchoolPosition(e,n,r){let o=this.gridService.getTile(e,n);if(!o||!o.unitId)return null;let i=o.unitId,s=[];for(let d=0;d<r.width;d++)for(let p=0;p<r.height;p++){let f=e-d,h=n-p;this.canPlaceSchoolInSameUnit(f,h,r,i)&&s.push({x:f,y:h})}if(s.length===0)return null;let c=(r.width-1)/2,a=(r.height-1)/2,l=s[0],u=1/0;for(let d of s){let p=e-d.x,f=n-d.y,h=Math.abs(p-c)+Math.abs(f-a);h<u&&(u=h,l=d)}return l}canPlaceSchoolInSameUnit(e,n,r,o){for(let i=0;i<r.width;i++)for(let s=0;s<r.height;s++){let c=e+i,a=n+s;if(!this.gridService.isValidPosition(c,a)||this.gridService.hasSchool(c,a))return!1;let l=this.gridService.getTile(c,a);if(!l||l.unitId!==o||!l.unitId)return!1}return!0}removeSchool(e,n){let r=this.getSchoolAtPosition(e,n);if(r){for(let o=0;o<r.size.width;o++)for(let i=0;i<r.size.height;i++)this.gridService.removeSchool(r.position.x+o,r.position.y+i);return this.schools.delete(r.id),!0}return!1}getSchoolAtPosition(e,n){for(let r of this.schools.values()){let o=e>=r.position.x&&e<r.position.x+r.size.width,i=n>=r.position.y&&n<r.position.y+r.size.height;if(o&&i)return r}return null}getSchoolById(e){return this.schools.get(e)||null}getAllSchools(){return Array.from(this.schools.values())}getSchoolsCount(){return this.schools.size}updateSchoolCapacity(e,n){let r=this.schools.get(e);if(r){let o=Math.max(ae.SCHOOL.MIN_CAPACITY,Math.min(ae.SCHOOL.MAX_CAPACITY,n));return r.capacity=o,!0}return!1}addStudents(e,n){let r=this.schools.get(e);if(r){let o=r.currentStudents+n;if(o<=r.capacity)return r.currentStudents=o,!0}return!1}removeStudents(e,n){let r=this.schools.get(e);if(r){let o=Math.max(0,r.currentStudents-n);return r.currentStudents=o,!0}return!1}getSchoolUtilization(e){let n=this.schools.get(e);return n&&n.capacity>0?n.currentStudents/n.capacity*100:0}resetSchools(){this.schools.clear(),this.schoolCounter=0,this.gridService.resetGrid()}loadSchools(e){this.schools.clear();let n=0;e.forEach(r=>{typeof r.createdAt=="string"&&(r.createdAt=new Date(r.createdAt)),r.size||(r.size={width:1,height:1},r.type="ELEMENTARY",r.layout=this.generateSchoolLayout("ELEMENTARY")),this.schools.set(r.id,r);for(let i=0;i<r.size.width;i++)for(let s=0;s<r.size.height;s++)this.gridService.placeSchool(r.position.x+i,r.position.y+s);let o=r.id.match(/school_(\d+)/);if(o){let i=parseInt(o[1],10);n=Math.max(n,i)}}),this.schoolCounter=n}static \u0275fac=function(n){return new(n||t)(m(pt))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};var En=class t{constructor(e,n){this.municipalityManager=e;this.themeService=n;this.config={tileWidth:ae.GRID.TILE_WIDTH,tileHeight:ae.GRID.TILE_HEIGHT,mapOffsetX:ae.GRID.OFFSET_X,mapOffsetY:ae.GRID.OFFSET_Y}}graphics=null;scene=null;config;zoom=1;cameraOffsetX=0;cameraOffsetY=0;canvasWidth=0;canvasHeight=0;gridSize=0;setZoom(e){this.zoom=Math.max(.5,Math.min(e,2)),this.applyPanBoundaries()}getZoom(){return this.zoom}panCamera(e,n){this.cameraOffsetX+=e,this.cameraOffsetY+=n,this.applyPanBoundaries()}resetCameraPosition(){this.cameraOffsetX=0,this.cameraOffsetY=0}applyPanBoundaries(){if(this.gridSize===0)return;let e=this.config.tileWidth*this.zoom,n=this.config.tileHeight*this.zoom,r=this.gridSize*e,o=this.gridSize*n,i=300,s=Math.max(i,(r-this.canvasWidth)/2+i),c=Math.max(i,(o-this.canvasHeight)/2+i);this.cameraOffsetX=Math.max(-s,Math.min(s,this.cameraOffsetX)),this.cameraOffsetY=Math.max(-c,Math.min(c,this.cameraOffsetY))}getCameraOffset(){return{x:this.cameraOffsetX,y:this.cameraOffsetY}}setGraphics(e){this.graphics=e}setScene(e){this.scene=e}setConfig(e){this.config=M(M({},this.config),e)}getConfig(){return M({},this.config)}centerGrid(e,n,r){this.canvasWidth=e,this.canvasHeight=n,this.gridSize=r;let o=this.config.tileWidth,i=this.config.tileHeight,s=r*o,c=r*i;this.config.mapOffsetX=(e-s)/2+s/2,this.config.mapOffsetY=(n-c)/2+c/4}clearGraphics(){this.graphics&&this.graphics.clear(),this.scene&&this.scene.children.list.filter(n=>n.texture&&n.texture.key==="school").forEach(n=>n.destroy())}drawTile(e,n,r,o,i){if(!this.graphics)return;let{sx:s,sy:c}=this.gridToScreen(e,n),a=this.zoom,l=this.config.tileWidth/2*a,u=this.config.tileHeight/2*a,d=this.config.tileHeight*a;this.graphics.fillStyle(r,1),this.graphics.beginPath(),this.graphics.moveTo(s,c),this.graphics.lineTo(s+l,c+u),this.graphics.lineTo(s,c+d),this.graphics.lineTo(s-l,c+u),this.graphics.closePath(),this.graphics.fill(),this.graphics.lineStyle(1,o,1),this.graphics.strokePath()}drawMunicipality(e,n,r){if(!this.graphics)return;let{sx:o,sy:i}=this.gridToScreen(e,n),s=this.zoom,c=this.config.tileWidth/2*s,a=this.config.tileHeight/2*s;this.graphics.fillStyle(r.color,1),this.graphics.beginPath(),this.graphics.moveTo(o,i),this.graphics.lineTo(o+c,i+a),this.graphics.lineTo(o,i+this.config.tileHeight*s),this.graphics.lineTo(o-c,i+a),this.graphics.closePath(),this.graphics.fill(),this.graphics.lineStyle(2,0,1),this.graphics.strokePath(),this.graphics.fillStyle(16777215,1),this.graphics.fillCircle(o,i+a,4*s),this.graphics.lineStyle(1,0,1),this.graphics.strokeCircle(o,i+a,4*s)}drawSchoolComponent(e){if(!this.graphics)return;let{x:n,y:r}=e.position,o=e.type,{sx:i,sy:s}=this.gridToScreen(n,r);this.drawComponentSprite(i,s,o)}drawComponentSprite(e,n,r){if(!this.scene)return;let o=this.scene.add.image(e,n,"school");return o.setScale(this.zoom*.035),o.setOrigin(.5,.5),o.setDepth(n+1e3),o}gridToScreen(e,n){let r=this.zoom,o=this.config.mapOffsetX+(e-n)*(this.config.tileWidth/2)*r+this.cameraOffsetX,i=this.config.mapOffsetY+(e+n)*(this.config.tileHeight/2)*r+this.cameraOffsetY;return{sx:o,sy:i}}screenToGrid(e,n){let r=this.zoom,o=(e-this.config.mapOffsetX-this.cameraOffsetX)/r,i=(n-this.config.mapOffsetY-this.cameraOffsetY)/r,s=Math.round((o/(this.config.tileWidth/2)+i/(this.config.tileHeight/2))/2),c=Math.round((i/(this.config.tileHeight/2)-o/(this.config.tileWidth/2))/2);return{x:s,y:c}}static \u0275fac=function(n){return new(n||t)(m(ze),m(se))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};var Dn=class t{municipalities=[];getMunicipalities(){return this.municipalities}addMunicipality(e){this.municipalities.push(e)}removeMunicipality(e){this.municipalities=this.municipalities.filter(n=>n.id!==e)}addArea(e,n){let r=this.municipalities.find(o=>o.id===e);r&&r.areas.push(n)}addUnit(e,n,r){let o=this.findArea(e,n);o&&o.units.push(r)}addSchool(e,n,r,o){let i=this.findUnit(e,n,r);i&&i.schools.push(o)}addClass(e,n,r,o,i){let s=this.findSchool(e,n,r,o);s&&s.classes.push(i)}addGroup(e,n,r,o,i,s){let c=this.findClass(e,n,r,o,i);c&&c.groups.push(s)}addStudentToGroup(e,n,r,o,i,s,c){let a=this.findGroup(e,n,r,o,i,s);a&&a.students.push(c)}assignTeacherToClass(e,n,r,o,i,s){let c=this.findClass(e,n,r,o,i);c&&(c.teacher=s)}findArea(e,n){return this.municipalities.find(r=>r.id===e)?.areas.find(r=>r.id===n)}findUnit(e,n,r){return this.findArea(e,n)?.units.find(o=>o.id===r)}findSchool(e,n,r,o){return this.findUnit(e,n,r)?.schools.find(i=>i.id===o)}findClass(e,n,r,o,i){return this.findSchool(e,n,r,o)?.classes.find(s=>s.id===i)}findGroup(e,n,r,o,i,s){return this.findClass(e,n,r,o,i)?.groups.find(c=>c.id===s)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};var bn=class t{schoolClicked$=new Tn(1);emitSchoolClicked(e){this.schoolClicked$.next(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};var In=class t{constructor(e,n,r,o,i){this.platformId=e;this.gridService=n;this.municipalityManager=r;this.schoolService=o;this.themeService=i}SAVE_KEY="schoolCity-gameData";VERSION="1.0.0";saveGameData(){if(!q(this.platformId))return console.warn("Save functionality only available in browser environment"),!1;try{let e=this.createSaveData(),n=JSON.stringify(e,null,2);return localStorage.setItem(this.SAVE_KEY,n),!0}catch(e){return console.error("\u274C Failed to save game data:",e),!1}}loadGameData(){if(!q(this.platformId))return console.warn("Load functionality only available in browser environment"),!1;try{let e=localStorage.getItem(this.SAVE_KEY);if(!e)return!1;let n=JSON.parse(e);return this.validateSaveData(n)?(this.restoreGameState(n),!0):(console.error("\u274C Invalid save data format"),!1)}catch(e){return console.error("\u274C Failed to load game data:",e),!1}}hasSavedData(){return q(this.platformId)?localStorage.getItem(this.SAVE_KEY)!==null:!1}getSaveMetadata(){if(!q(this.platformId))return null;try{let e=localStorage.getItem(this.SAVE_KEY);if(!e)return null;let n=JSON.parse(e);return{timestamp:n.timestamp,version:n.version,metadata:n.metadata}}catch(e){return console.error("Failed to get save metadata:",e),null}}deleteSavedData(){if(!q(this.platformId))return!1;try{return localStorage.removeItem(this.SAVE_KEY),!0}catch(e){return console.error("Failed to delete save data:",e),!1}}exportGameData(){try{let e=this.createSaveData();return JSON.stringify(e,null,2)}catch(e){return console.error("Failed to export game data:",e),null}}importGameData(e){try{let n=JSON.parse(e);return this.validateSaveData(n)?(this.restoreGameState(n),this.saveGameData(),!0):(console.error("\u274C Invalid import data format"),!1)}catch(n){return console.error("\u274C Failed to import game data:",n),!1}}createSaveData(){let e=this.gridService.getGrid(),n=this.municipalityManager.getMunicipalities(),r=this.schoolService.getAllSchools(),o=e.length*e[0].length,i=n.reduce((a,l)=>a+l.areas.length,0),s=n.reduce((a,l)=>a+l.areas.reduce((u,d)=>u+d.units.length,0),0);return{version:this.VERSION,timestamp:new Date().toISOString(),grid:e,municipalities:n,schools:r,municipalityCounter:this.municipalityManager.counter||1,theme:this.themeService.getIsDarkMode()?"dark":"light",metadata:{gridSize:e.length,totalTiles:o,totalMunicipalities:n.length,totalAreas:i,totalUnits:s,totalSchools:r.length}}}restoreGameState(e){this.gridService.loadGrid(e.grid),this.municipalityManager.loadMunicipalities(e.municipalities,e.municipalityCounter),this.schoolService.loadSchools(e.schools)}validateSaveData(e){return e&&typeof e.version=="string"&&typeof e.timestamp=="string"&&Array.isArray(e.grid)&&Array.isArray(e.municipalities)&&Array.isArray(e.schools)&&e.metadata&&typeof e.metadata.gridSize=="number"}static \u0275fac=function(n){return new(n||t)(m(W),m(pt),m(ze),m(vn),m(se))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};var _i=class t{constructor(e,n,r,o,i,s,c,a,l){this.platformId=e;this.gridService=n;this.schoolService=r;this.renderingService=o;this.educationHierarchyService=i;this.themeService=s;this.gameEventService=c;this.municipalityManager=a;this.gameDataService=l}isGameRunning=!1;gameStartTime=null;hierarchyInitialized=!1;cleanSlate(){this.gridService.cleanSlate(),this.schoolService.resetSchools(),this.municipalityManager.clearAll(),q(this.platformId)&&this.gameDataService.deleteSavedData(),this.hierarchyInitialized=!1,this.startGame(),this.renderGame()}startGame(){this.isGameRunning=!0,this.gameStartTime=new Date,this.hierarchyInitialized||(this.initializeHierarchy(),this.hierarchyInitialized=!0)}initializeHierarchy(){let e={id:"municipality-1",name:"Municipality 1",areas:[{id:"area-1",name:"Area 1",units:[{id:"unit-1",name:"Unit 1",schools:[]}]}]};this.educationHierarchyService.addMunicipality(e)}stopGame(){this.isGameRunning=!1,this.gameStartTime=null}isGameActive(){return this.isGameRunning}getGameDuration(){return this.gameStartTime?Date.now()-this.gameStartTime.getTime():0}getGameStats(){let e=this.schoolService.getAllSchools(),n=e.length,r=e.reduce((s,c)=>s+c.currentStudents,0),o=e.reduce((s,c)=>s+c.capacity,0),i=o>0?r/o*100:0;return{totalSchools:n,totalStudents:r,totalCapacity:o,averageUtilization:i}}resetGame(){this.stopGame(),this.schoolService.resetSchools(),this.startGame()}renderGame(){if(!this.isGameRunning)return;this.renderingService.clearGraphics();let e=this.gridService.getGrid();for(let r=0;r<e.length;r++)for(let o=0;o<e[r].length;o++){let i=e[r][o],s=this.themeService.getTileColors(),c=s.default,a=s.border;if(i.unitId){let l=this.municipalityManager.getUnitById(i.unitId);l&&(c=l.color,a=s.border)}else if(i.areaId){let l=this.municipalityManager.getAreaById(i.areaId);l&&(c=l.color,a=s.border)}else if(i.municipalityId){let l=this.municipalityManager.getMunicipalityById(i.municipalityId);l&&(c=l.baseColor,a=s.border)}this.renderingService.drawTile(o,r,c,a,i)}let n=this.schoolService.getAllSchools();for(let r of n){let o=r.position.x+(r.size.width-1)/2,i=r.position.y+(r.size.height-1)/2;this.renderingService.drawSchoolComponent({position:{x:o,y:i},type:"MAIN_BUILDING"})}}handleTileClick(e,n){if(!this.isGameRunning)return;let{x:r,y:o}=this.renderingService.screenToGrid(e,n);if(this.gridService.isValidPosition(r,o))if(this.gridService.hasSchool(r,o)){let i=this.schoolService.getSchoolAtPosition(r,o);i&&this.gameEventService.emitSchoolClicked(Z(M({},i),{x:i.position.x,y:i.position.y}))}else{let i=this.schoolService.placeSchoolAuto(r,o);if(i){let s=this.gridService.getTile(r,o);s&&this.educationHierarchyService.addSchool(s.municipalityId,s.areaId,s.unitId,{id:i.id,name:i.name,classes:[]}),typeof window<"u"&&window.autoSaveGame&&window.autoSaveGame(),this.renderGame()}else console.error("\u274C Cannot place school - insufficient space or invalid tile type")}}getGameStatus(){if(!this.isGameRunning)return"Game Stopped";let e=this.getGameStats();return`Running - ${e.totalSchools} schools, ${e.totalStudents}/${e.totalCapacity} students`}static \u0275fac=function(n){return new(n||t)(m(W),m(pt),m(vn),m(En),m(Dn),m(se),m(bn),m(ze),m(In))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};var nI=["gameContainer"],xi=class t{constructor(e,n,r,o,i,s,c,a,l,u){this.platformId=e;this.gameEngineService=n;this.gameStateService=r;this.renderingService=o;this.educationHierarchyService=i;this.gameEventService=s;this.themeService=c;this.gameDataService=a;this.ngZone=l;this.cdRef=u}selectedSchool=null;selectedSchoolPos=null;hasSavedData=!1;selectedBoundary=null;statusMessage="";isStatusMessageVisible=!1;statusMessageTimeout=null;lastTouchDist=null;isPanning=!1;isPaintDragging=!1;lastPointerPos=null;gestureIsPan=!1;schoolClickedSubscription;themeSubscription;gameContainer;addStudent(){this.selectedSchool&&this.gameStateService.schoolService.addStudents(this.selectedSchool.id,1)&&(this.selectedSchool.currentStudents++,this.gameStateService.renderGame())}removeStudent(){this.selectedSchool&&this.selectedSchool.currentStudents>0&&this.gameStateService.schoolService.removeStudents(this.selectedSchool.id,1)&&(this.selectedSchool.currentStudents--,this.gameStateService.renderGame())}removeSchool(){this.selectedSchoolPos&&(this.gameStateService.schoolService.removeSchool(this.selectedSchoolPos.x,this.selectedSchoolPos.y),this.selectedSchool=null,this.selectedSchoolPos=null,this.gameStateService.renderGame())}closeSchoolInfo(){this.selectedSchool=null,this.selectedSchoolPos=null,this.cdRef.detectChanges()}onWheel(e){e.preventDefault();let n=e.deltaY>0?-.05:.05,o=this.renderingService.getZoom()+n,i=e.target.getBoundingClientRect(),s=e.clientX-i.left,c=e.clientY-i.top,a=this.renderingService.screenToGrid(s,c);this.renderingService.setZoom(o);let l=this.renderingService.gridToScreen(a.x,a.y),u=s-l.sx,d=c-l.sy;this.renderingService.panCamera(u,d),this.gameStateService.renderGame()}zoomIn(){let e=this.renderingService.getZoom()+.1;this.renderingService.setZoom(e),this.gameStateService.renderGame()}zoomOut(){let e=this.renderingService.getZoom()-.1;this.renderingService.setZoom(e),this.gameStateService.renderGame()}resetCamera(){this.renderingService.resetCameraPosition(),this.gameStateService.renderGame()}onTouchStart=e=>{e.touches.length===2?(this.lastTouchDist=this.getTouchDist(e),this.isPanning=!1,this.isPaintDragging=!1):e.touches.length===1&&(this.isPaintModeActive()?this.isPaintDragging=!0:this.startPan(e.touches[0].clientX,e.touches[0].clientY))};onTouchMove=e=>{if(e.touches.length===2&&this.lastTouchDist!==null){e.preventDefault();let n=this.getTouchDist(e),r=n-this.lastTouchDist;if(Math.abs(r)>5){let o=r>0?.05:-.05,i=this.renderingService.getZoom()+o;this.renderingService.setZoom(i),this.gameStateService.renderGame(),this.lastTouchDist=n}}else e.touches.length===1&&(this.isPanning&&!this.isPaintModeActive()?(e.preventDefault(),this.updatePan(e.touches[0].clientX,e.touches[0].clientY)):this.isPaintDragging&&this.isPaintModeActive()&&(e.preventDefault(),this.handlePaintDrag(e.touches[0].clientX,e.touches[0].clientY)))};onTouchEnd=e=>{e.touches.length<2&&(this.lastTouchDist=null),e.touches.length===0&&(this.endPan(),this.isPaintDragging=!1)};getTouchDist(e){let n=e.touches[0].clientX-e.touches[1].clientX,r=e.touches[0].clientY-e.touches[1].clientY;return Math.sqrt(n*n+r*r)}startPan(e,n){this.isPanning=!0,this.gestureIsPan=!1,this.lastPointerPos={x:e,y:n}}updatePan(e,n){if(!this.isPanning||!this.lastPointerPos)return;let r=e-this.lastPointerPos.x,o=n-this.lastPointerPos.y;(Math.abs(r)>3||Math.abs(o)>3)&&(this.gestureIsPan=!0),this.renderingService.panCamera(r,o),this.gameStateService.renderGame(),this.lastPointerPos={x:e,y:n}}endPan(){this.isPanning=!1,this.lastPointerPos=null,setTimeout(()=>{this.gestureIsPan=!1},100)}onMouseDown=e=>{e.button===0&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&(this.isPaintModeActive()?this.isPaintDragging=!0:this.startPan(e.clientX,e.clientY))};onMouseMove=e=>{this.isPanning&&!this.isPaintModeActive()?(e.preventDefault(),this.updatePan(e.clientX,e.clientY)):this.isPaintDragging&&this.isPaintModeActive()&&(e.preventDefault(),this.handlePaintDrag(e.clientX,e.clientY))};onMouseUp=e=>{this.isPanning&&this.endPan(),this.isPaintDragging=!1};async ngOnInit(){if(q(this.platformId)){this.hasSavedData=this.gameDataService.hasSavedData(),this.themeService.getCurrentTheme();try{if(await new Promise(a=>setTimeout(a,500)),this.hasSavedData){let a=this.gameDataService.loadGameData()}let e=this.gameContainer.nativeElement;if(!e){console.error("\u274C Game container element not found!");return}let n=window.innerWidth,r=window.innerHeight,i=this.themeService.getCurrentTheme().background,s={width:n,height:r,backgroundColor:i},c=Ti.createScene(this.gameStateService,this.renderingService,this.educationHierarchyService,this.gameEventService);await this.gameEngineService.initializeGame(e,s,c),this.renderingService.centerGrid(s.width,s.height,ae.GRID.SIZE),window.updatePaintToolStates=()=>{this.ngZone.run(()=>{this.cdRef.markForCheck(),this.cdRef.detectChanges()})},window.autoSaveGame=()=>{this.ngZone.run(()=>{this.saveGame()})},e.addEventListener("touchstart",this.onTouchStart,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove,{passive:!1}),e.addEventListener("touchend",this.onTouchEnd,{passive:!1}),e.addEventListener("wheel",this.onWheel.bind(this),{passive:!1}),e.addEventListener("mousedown",this.onMouseDown,{passive:!1}),e.addEventListener("mousemove",this.onMouseMove,{passive:!1}),e.addEventListener("mouseup",this.onMouseUp,{passive:!1}),e.addEventListener("mouseleave",this.onMouseUp,{passive:!1}),this.schoolClickedSubscription=this.gameEventService.schoolClicked$.subscribe(a=>{this.ngZone.run(()=>{this.selectedSchool=M({},a),this.selectedSchoolPos={x:a.x,y:a.y},this.cdRef.markForCheck(),this.cdRef.detectChanges(),setTimeout(()=>this.cdRef.detectChanges(),0)})}),this.themeSubscription=this.themeService.isDarkMode$.subscribe(a=>{this.ngZone.run(()=>{let l=this.themeService.getCurrentTheme(),u=document.querySelector("canvas");if(u&&(u.style.backgroundColor=l.background,u.setAttribute("data-theme",a?"dark":"light")),this.gameEngineService.getGame()){let d=parseInt(l.background.replace("#",""),16);this.gameEngineService.getGame().scene.scenes.forEach(p=>{p.cameras&&p.cameras.main&&p.cameras.main.setBackgroundColor(d)})}})})}catch(e){console.error("\u274C Error during game initialization:",e),console.error("Error stack:",e instanceof Error?e.stack:"No stack trace")}}}ngOnDestroy(){this.schoolClickedSubscription&&this.schoolClickedSubscription.unsubscribe(),this.themeSubscription&&this.themeSubscription.unsubscribe(),this.statusMessageTimeout&&clearTimeout(this.statusMessageTimeout),this.gameEngineService.destroyGame()}isPaintModeActive(){return this.selectedBoundary!==null&&this.selectedBoundary.startsWith("paint:")&&!this.selectedBoundary.includes("pan")}handlePaintDrag(e,n){if(typeof window<"u"&&window.handleGridClick){let r=this.gameContainer?.nativeElement;if(r){let o=r.getBoundingClientRect(),i=e-o.left,s=n-o.top;window.handleGridClick(i,s)}}}showStatusMessage(e,n=3e3){this.statusMessageTimeout&&clearTimeout(this.statusMessageTimeout),this.statusMessage=e,this.isStatusMessageVisible=!0,this.cdRef.detectChanges(),this.statusMessageTimeout=setTimeout(()=>{this.isStatusMessageVisible=!1,this.cdRef.detectChanges()},n)}onBoundarySelected(e){if(e.startsWith("paint:"))switch(e.replace("paint:","")){case"municipality":this.selectedBoundary=e,this.showStatusMessage("Paint Mode: Municipality Brush activated");break;case"area":this.selectedBoundary=e,this.showStatusMessage("Paint Mode: Area Brush activated");break;case"unit":this.selectedBoundary=e,this.showStatusMessage("Paint Mode: Unit Brush activated");break;case"school":this.selectedBoundary=e,this.showStatusMessage("Paint Mode: School Placer activated");break;case"clear":this.selectedBoundary=e,this.showStatusMessage("Paint Mode: Eraser activated");break;case"pan":this.selectedBoundary=null,this.showStatusMessage("Pan Mode activated"),console.log("Pan mode activated, selectedBoundary set to null");break;default:this.selectedBoundary=e,this.showStatusMessage("Paint Mode activated")}else this.selectedBoundary=e;typeof window<"u"&&window.setSelectedBoundary&&window.setSelectedBoundary(this.selectedBoundary),this.updatePaintModeVisuals(),setTimeout(()=>{this.updatePaintModeVisuals()},10)}updatePaintModeVisuals(){let e=this.gameContainer?.nativeElement;if(e){let n=this.isPaintModeActive();console.log("updatePaintModeVisuals: isPaintActive =",n,"selectedBoundary =",this.selectedBoundary),n?(e.classList.add("paint-mode-active"),e.classList.remove("pan-mode-active"),console.log("Added paint-mode-active class, removed pan-mode-active")):(e.classList.remove("paint-mode-active"),e.classList.add("pan-mode-active"),console.log("Removed paint-mode-active class, added pan-mode-active")),e.offsetHeight}}onCleanSlate(){this.gameStateService.cleanSlate();let e=this.renderingService.municipalityManager;e&&e.clearAll(),this.saveGame()}saveGame(){this.gameDataService.saveGameData()?this.hasSavedData=!0:console.error("\u274C Failed to save game")}loadGame(){this.gameDataService.loadGameData()?this.gameStateService.renderGame():console.error("\u274C Failed to load game")}static \u0275fac=function(n){return new(n||t)(j(W),j(Mi),j(_i),j(En),j(Dn),j(bn),j(se),j(In),j(k),j(mn))};static \u0275cmp=Je({type:t,selectors:[["app-game"]],viewQuery:function(n,r){if(n&1&&yc(nI,7),n&2){let o;vc(o=Ec())&&(r.gameContainer=o.first)}},decls:42,vars:12,consts:[["gameContainer",""],[1,"status-message"],[1,"control-bar"],[1,"control-group"],["aria-label","Zoom Out",1,"main-btn",3,"click"],[1,"material-icons-outlined"],["aria-label","Zoom In",1,"main-btn",3,"click"],["aria-label","Center View","title","Center View",1,"main-btn",3,"click"],["title","Save Game",1,"main-btn","save-btn",3,"click"],["title","Load Game",1,"main-btn","load-btn",3,"click","disabled"],[1,"main-btn","clean-slate-btn",3,"click"],[3,"boundarySelected"],[1,"school-info-modal"],[1,"modal-content"],[1,"modal-actions"],[1,"modal-btn","primary",3,"click","disabled"],[1,"modal-btn","secondary",3,"click","disabled"],[1,"modal-btn","danger",3,"click","disabled"],[1,"modal-btn",3,"click"],["id","gameContainer"]],template:function(n,r){if(n&1){let o=mc();F(0,"div",1),T(1),$(),F(2,"div",2)(3,"div",3)(4,"button",4),ie("click",function(){return ne(o),re(r.zoomOut())}),F(5,"span",5),T(6,"zoom_out"),$()(),F(7,"button",6),ie("click",function(){return ne(o),re(r.zoomIn())}),F(8,"span",5),T(9,"zoom_in"),$()(),F(10,"button",7),ie("click",function(){return ne(o),re(r.resetCamera())}),F(11,"span",5),T(12,"center_focus_strong"),$()(),F(13,"button",8),ie("click",function(){return ne(o),re(r.saveGame())}),F(14,"span",5),T(15,"save"),$()(),F(16,"button",9),ie("click",function(){return ne(o),re(r.loadGame())}),F(17,"span",5),T(18,"folder_open"),$()(),F(19,"button",10),ie("click",function(){return ne(o),re(r.onCleanSlate())}),F(20,"span",5),T(21,"cleaning_services"),$(),T(22," Clean Slate "),$()(),jt(23,"app-theme-toggle"),$(),F(24,"app-boundary-selector",11),ie("boundarySelected",function(s){return ne(o),re(r.onBoundarySelected(s))}),$(),F(25,"div",12)(26,"div",13)(27,"h3"),T(28),$(),F(29,"p"),T(30),$(),F(31,"div",14)(32,"button",15),ie("click",function(){return ne(o),re(r.addStudent())}),T(33,"Add Student"),$(),F(34,"button",16),ie("click",function(){return ne(o),re(r.removeStudent())}),T(35,"Remove Student"),$(),F(36,"button",17),ie("click",function(){return ne(o),re(r.removeSchool())}),T(37,"Remove School"),$(),F(38,"button",18),ie("click",function(){return ne(o),re(r.closeSchoolInfo())}),T(39,"Close"),$()()()(),jt(40,"div",19,0)}n&2&&(we("visible",r.isStatusMessageVisible),V(),Vt(" ",r.statusMessage," "),V(15),Lt("disabled",!r.hasSavedData),V(9),we("modal-hidden",!r.selectedSchool),V(3),Bt((r.selectedSchool==null?null:r.selectedSchool.name)||"No School"),V(2),oi("Students: ",(r.selectedSchool==null?null:r.selectedSchool.currentStudents)||0," / ",(r.selectedSchool==null?null:r.selectedSchool.capacity)||0),V(2),Lt("disabled",!r.selectedSchool),V(2),Lt("disabled",!r.selectedSchool||r.selectedSchool.currentStudents===0),V(2),Lt("disabled",!r.selectedSchool))},dependencies:[ft,wi,Si],styles:["[_ngcontent-%COMP%]:root{--bg-primary: #f8fafb;--bg-surface: #ffffff;--bg-surface-translucent: rgba(255, 255, 255, .85);--button-bg-translucent: rgba(255, 255, 255, .9);--button-hover-translucent: rgba(255, 255, 255, .95);--button-active-translucent: rgba(255, 255, 255, .8);--modal-bg-translucent: rgba(255, 255, 255, .95);--text-primary: #1f2937;--text-secondary: #6b7280;--color-primary: #4a90e2;--color-secondary: #7dd3fc;--color-accent: #10b981;--button-bg: #ffffff;--button-hover: #f3f4f6;--button-active: #e5e7eb;--button-disabled: #f9fafb}[_ngcontent-%COMP%]:root[data-theme=dark]{--bg-primary: #1a1a1a;--bg-surface: #2d2d2d;--bg-surface-translucent: rgba(45, 45, 45, .85);--button-bg-translucent: rgba(45, 45, 45, .9);--button-hover-translucent: rgba(55, 55, 55, .95);--button-active-translucent: rgba(35, 35, 35, .8);--modal-bg-translucent: rgba(45, 45, 45, .95);--text-primary: #ffffff;--text-secondary: #a0a0a0;--color-primary: #5aa3f0;--color-secondary: #7dd3fc;--color-accent: #10b981;--button-bg: #3d3d3d;--button-hover: #4d4d4d;--button-active: #2d2d2d;--button-disabled: #2a2a2a}.status-message[_ngcontent-%COMP%]{position:fixed;top:20px;left:20px;background:var(--button-bg-translucent);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:var(--text-primary);padding:12px 20px;border-radius:8px;font-size:14px;font-weight:500;border:1px solid var(--button-bg);box-shadow:0 4px 12px #00000026;z-index:1000;opacity:0;transform:translateY(-10px);transition:all .3s cubic-bezier(.4,0,.2,1);pointer-events:none}.status-message.visible[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}@media (max-width: 768px){.status-message[_ngcontent-%COMP%]{top:80px;left:50%;transform:translate(-50%) translateY(-10px);max-width:calc(100vw - 40px);text-align:center}.status-message.visible[_ngcontent-%COMP%]{transform:translate(-50%) translateY(0)}}[_nghost-%COMP%]{display:block;background:var(--bg-primary);min-height:100vh;min-width:100vw;width:100vw;height:100vh;margin:0;padding:0;overflow:hidden;position:fixed;top:0;left:0;z-index:0;transition:background-color .3s ease}.control-bar[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;display:flex;align-items:center;gap:12px;z-index:100;background:var(--bg-surface-translucent);border-radius:16px;padding:12px 16px;box-shadow:0 4px 20px #00000014;border:1px solid rgba(0,0,0,.06);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease}.control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}#gameContainer[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background:transparent;z-index:1}#gameContainer.paint-mode-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:crosshair!important}#gameContainer.pan-mode-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], #gameContainer[_ngcontent-%COMP%]:not(.paint-mode-active)   *[_ngcontent-%COMP%]{cursor:grab!important}#gameContainer[_ngcontent-%COMP%]:not(.paint-mode-active):active{cursor:grabbing!important}[_nghost-%COMP%]     canvas{display:block!important;position:fixed!important;z-index:2!important;left:0!important;top:0!important;width:100vw!important;height:100vh!important;background:var(--bg-primary)!important;transition:background-color .3s ease!important}[_nghost-%COMP%]     canvas[data-theme=dark]{background:#1a1a1a!important}[_nghost-%COMP%]     canvas[data-theme=light]{background:#f8fafb!important}.main-btn[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,system-ui,sans-serif;font-size:14px;font-weight:500;padding:8px 14px;border-radius:10px;border:1px solid rgba(0,0,0,.08);margin:0;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);outline:none;background:var(--button-bg-translucent);color:var(--text-primary);text-align:center;box-shadow:0 1px 3px #00000014;position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center;gap:6px}.main-btn[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%]{font-size:18px;line-height:1}.main-btn[_ngcontent-%COMP%]:hover{background:var(--button-hover-translucent);transform:translateY(-1px);box-shadow:0 2px 8px #0000001f}.main-btn[_ngcontent-%COMP%]:active{background:var(--button-active-translucent);transform:translateY(0);box-shadow:0 1px 3px #00000014}.clean-slate-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-accent),#059669);color:#fff;border:none}.clean-slate-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,var(--color-accent));transform:translateY(-1px);box-shadow:0 3px 12px #10b9814d}.save-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none}.save-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#3b82f6);transform:translateY(-1px);box-shadow:0 3px 12px #3b82f64d}.load-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:#fff;border:none}.load-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#7c3aed,#8b5cf6);transform:translateY(-1px);box-shadow:0 3px 12px #8b5cf64d}.load-btn[_ngcontent-%COMP%]:disabled{background:var(--button-disabled)!important;color:var(--text-secondary)!important;cursor:not-allowed!important;transform:none!important;box-shadow:none!important}.school-info-modal[_ngcontent-%COMP%]{position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;background:var(--modal-bg-translucent)!important;border-radius:24px!important;box-shadow:0 20px 50px #00000026!important;padding:0!important;z-index:9999!important;min-width:380px!important;max-width:90vw!important;display:flex!important;flex-direction:column!important;border:1px solid rgba(0,0,0,.06)!important;-webkit-backdrop-filter:blur(20px)!important;backdrop-filter:blur(20px)!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important}.school-info-modal.modal-hidden[_ngcontent-%COMP%]{display:none!important}.modal-content[_ngcontent-%COMP%]{padding:32px;text-align:center}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.5rem;font-weight:600;color:var(--text-primary);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,system-ui,sans-serif}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;font-size:1.1rem;color:var(--text-secondary);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,system-ui,sans-serif}.modal-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;align-items:center}.modal-btn[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,system-ui,sans-serif;font-size:14px;font-weight:500;padding:12px 24px;border-radius:12px;border:1px solid rgba(0,0,0,.08);background:var(--button-bg);color:var(--text-primary);cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);min-width:140px;outline:none;box-shadow:0 1px 3px #00000014}.modal-btn[_ngcontent-%COMP%]:hover{background:var(--button-hover);transform:translateY(-1px);box-shadow:0 2px 8px #0000001f}.modal-btn[_ngcontent-%COMP%]:active{background:var(--button-active);transform:translateY(0)}.modal-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-primary),#3b82f6);color:#fff;border:none}.modal-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f6,var(--color-primary));box-shadow:0 3px 12px #4a90e24d}.modal-btn.secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-secondary),#0ea5e9);color:#fff;border:none}.modal-btn.secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#0ea5e9,var(--color-secondary));box-shadow:0 3px 12px #7dd3fc4d}.modal-btn.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;border:none}.modal-btn.danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc2626,#ef4444);box-shadow:0 3px 12px #ef44444d}.modal-btn[_ngcontent-%COMP%]:disabled{background:var(--button-disabled)!important;color:var(--text-secondary)!important;cursor:not-allowed!important;transform:none!important;box-shadow:none!important}@media (max-width: 768px){.control-bar[_ngcontent-%COMP%]{top:12px;right:12px;padding:10px 14px;gap:10px}.main-btn[_ngcontent-%COMP%]{font-size:13px;padding:7px 12px}.main-btn[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%]{font-size:16px}.school-info-modal[_ngcontent-%COMP%]{min-width:320px!important}.modal-content[_ngcontent-%COMP%]{padding:24px}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem}.modal-btn[_ngcontent-%COMP%]{font-size:13px;padding:10px 20px;min-width:120px}}@media (max-width: 480px){.control-bar[_ngcontent-%COMP%]{top:8px;right:8px;padding:8px 12px;gap:8px}.main-btn[_ngcontent-%COMP%]{font-size:12px;padding:6px 10px}.main-btn[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%]{font-size:14px}.school-info-modal[_ngcontent-%COMP%]{min-width:280px!important;margin:20px!important}.modal-content[_ngcontent-%COMP%]{padding:20px}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.modal-btn[_ngcontent-%COMP%]{font-size:12px;padding:8px 16px;min-width:100px}}"]})};var Ni=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Je({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&jt(0,"app-game")},dependencies:[xi],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:100%;overflow:auto}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background:#f5f5f5}app-root[_ngcontent-%COMP%]{display:block;width:100%;height:100%;overflow:auto}app-game[_ngcontent-%COMP%]{display:block;width:auto;height:auto}"]})};Wc(Ni,sh);
